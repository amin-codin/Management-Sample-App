<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
<meta content = 'uft-8' name = 'charset'></meta>

<title>Continuous Integration</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<meta content = 'summary_large_image' name = 'twitter:card'></meta>

<meta content = '16665197' name = 'twitter:site:id'></meta>

<meta content = '@martinfowler' name = 'twitter:site'></meta>

<meta content = 'Continuous Integration' property = 'og:title'></meta>

<meta content = 'https://martinfowler.com/articles/continuousIntegration.html' property = 'og:url'></meta>

<meta content = 'Every developer integrates their work into mainline at least every day.' property = 'og:description'></meta>

<meta content = 'https://martinfowler.com/articles/continuousIntegration/card.png' property = 'og:image'></meta>

<meta content = 'martinfowler.com' property = 'og:site_name'></meta>

<meta content = 'article' property = 'og:type'></meta>

<meta content = '2024-01-18' property = 'og:article:modified_time'></meta>

<meta content = 'width=device-width, initial-scale=1' name = 'viewport'></meta>

<link href = 'continuousIntegration.css' rel = 'stylesheet' type = 'text/css'></link>
</head>

<body><header id = 'banner' style = 'background-image: url("/img/poetta.png"); background-repeat: no-repeat'>

<div class = 'name-logo'><a href = 'https://martinfowler.com'><img src = '/mf-name-white.png'></img></a></div>
  <div class = 'search'>
    <!-- SiteSearch Google -->
    <form method='GET' action="https://www.google.com/search">
      <input type='hidden' name='ie' value='UTF-8'/>
      <input type='hidden' name='oe' value='UTF-8'/>
      <input class = 'field' type='text' 
             name='q' size='15' maxlength='255' value=""/>
      <button class = 'button' type='submit' 
             name='btnG' value=" " title = "Search"/>
      <input type='hidden' name='domains' value="martinfowler.com"/>
      <input type='hidden' name='sitesearch' value=""/> 
      <input
          type='hidden' name='sitesearch' value="martinfowler.com"/>
    </form>
  </div>

<div class = 'menu-button navmenu-button'><a class = 'icon icon-bars' href = '#navmenu-bottom'></a></div>

<nav class = 'top-menu'>
<ul>
<li><a class = '' href = 'https://refactoring.com'>Refactoring</a></li>

<li><a class = '' href = '/agile.html'>Agile</a></li>

<li><a class = '' href = '/architecture'>Architecture</a></li>

<li><a class = '' href = '/aboutMe.html'>About</a></li>

<li><a class = 'tw' href = 'https://www.thoughtworks.com'>Thoughtworks</a></li>

<li><a class = 'icon icon-rss' href = '/feed.atom' title = 'feed'></a></li>

<li><a class = 'icon icon-twitter' href = 'https://www.twitter.com/martinfowler' title = 'Twitter stream'></a></li>

<li class = 'icon'><a href = 'https://toot.thoughtworks.com/@mfowler' title = 'Mastodon stream'><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg></a></li>

<li class = 'icon'><a href = 'https://www.linkedin.com/in/martin-fowler-com/' title = 'LinkedIn'><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <g>
    <path d="M6.5 8C7.32843 8 8 7.32843 8 6.5C8 5.67157 7.32843 5 6.5 5C5.67157
             5 5 5.67157 5 6.5C5 7.32843 5.67157 8 6.5 8Z" ></path>
    <path d="M5 10C5 9.44772 5.44772 9 6 9H7C7.55228 9 8 9.44771 8 10V18C8
             18.5523 7.55228 19 7 19H6C5.44772 19 5 18.5523 5 18V10Z" ></path>
    <path d="M11 19H12C12.5523 19 13 18.5523 13 18V13.5C13 12 16 11 16 13V18.0004C16 18.5527 16.4477 19 17 19H18C18.5523 19 19 18.5523 19 18V12C19 10 17.5 9 15.5 9C13.5 9 13 10.5 13 10.5V10C13 9.44771 12.5523 9 12 9H11C10.4477 9 10 9.44772 10 10V18C10 18.5523 10.4477 19 11 19Z" ></path>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M20 1C21.6569 1 23 2.34315 23
                                                 4V20C23 21.6569 21.6569 23 20
                                                 23H4C2.34315 23 1 21.6569 1
                                                 20V4C1 2.34315 2.34315 1 4
                                                 1H20ZM20 3C20.5523 3 21 3.44772
                                                 21 4V20C21 20.5523 20.5523 21
                                                 20 21H4C3.44772 21 3 20.5523 3
                                                 20V4C3 3.44772 3.44772 3 4
                                                 3H20Z"></path>
</g></svg>
</a></li>
</ul>
</nav>
</header>
<nav id = 'top-navmenu'>
<nav class = 'navmenu'>
<div class = 'nav-head'>  <div class = 'search'>
    <!-- SiteSearch Google -->
    <form method='GET' action="https://www.google.com/search">
      <input type='hidden' name='ie' value='UTF-8'/>
      <input type='hidden' name='oe' value='UTF-8'/>
      <input class = 'field' type='text' 
             name='q' size='15' maxlength='255' value=""/>
      <button class = 'button' type='submit' 
             name='btnG' value=" " title = "Search"/>
      <input type='hidden' name='domains' value="martinfowler.com"/>
      <input type='hidden' name='sitesearch' value=""/> 
      <input
          type='hidden' name='sitesearch' value="martinfowler.com"/>
    </form>
  </div>

<div class = 'closediv'>
<span class = 'close' title = 'close'></span>
</div>
</div>

<div class = 'nav-body'>
<div class = 'topics'>
<h2>Topics</h2>

<p><a href = '/architecture'>Architecture</a></p>

<p><a href = 'https://refactoring.com'>Refactoring</a></p>

<p><a href = '/agile.html'>Agile</a></p>

<p><a href = '/delivery.html'>Delivery</a></p>

<p><a href = '/microservices'>Microservices</a></p>

<p><a href = '/data'>Data</a></p>

<p><a href = '/testing'>Testing</a></p>

<p><a href = '/dsl.html'>DSL</a></p>
</div>

<div class = 'about'>
<h2>about me</h2>

<p><a href = '/aboutMe.html'>About</a></p>

<p><a href = '/books'>Books</a></p>

<p><a href = '/faq.html'>FAQ</a></p>
</div>

<div class = 'content'>
<h2>content</h2>

<p><a href = '/videos.html'>Videos</a></p>

<p><a href = '/tags'>Content Index</a></p>

<p><a href = '/articles/eurogames'>Board Games</a></p>

<p><a href = '/photos'>Photography</a></p>
</div>

<div class = 'tw'>
<h2>Thoughtworks</h2>

<p><a href = 'https://thoughtworks.com/insights'>Insights</a></p>

<p><a href = 'https://thoughtworks.com/careers'>Careers</a></p>

<p><a href = 'https://thoughtworks.com/radar'>Radar</a></p>
</div>

<div class = 'feeds'>
<h2>follow</h2>

<p><a href = '/feed.atom'>RSS</a></p>

<p><a href = 'https://toot.thoughtworks.com/@mfowler'>Mastodon</a></p>

<p><a href = 'https://www.linkedin.com/in/martin-fowler-com/'>LinkedIn</a></p>

<p><a href = 'https://www.twitter.com/martinfowler'>X (Twitter)</a></p>

<p><a href = 'https://boardgamegeek.com/blog/13064/martins-7th-decade'>BGG</a></p>
</div>
</div>
</nav>
</nav>

<nav id = 'toc-dropdown'>
<button class = 'dropdown-button'>
<h2>Table of Contents</h2>
</button>

<div class = 'hidden' id = 'dropdownLinks'>
<ul>
<li><a href = '#top'>Top</a></li>

<li><a href = '#BuildingAFeatureWithContinuousIntegration'>Building a Feature with Continuous Integration</a></li>

<li><a href = '#PracticesOfContinuousIntegration'>Practices of Continuous Integration</a>
<ul>
<li><a href = '#PutEverythingInAVersionControlledMainline'>Put everything in a version controlled mainline</a></li>

<li><a href = '#AutomateTheBuild'>Automate the Build</a></li>

<li><a href = '#MakeTheBuildSelf-testing'>Make the Build Self-Testing</a></li>

<li><a href = '#EveryonePushesCommitsToTheMainlineEveryDay'>Everyone Pushes Commits To the Mainline Every Day</a></li>

<li><a href = '#EveryPushToMainlineShouldTriggerABuild'>Every Push to Mainline Should Trigger a Build</a></li>

<li><a href = '#FixBrokenBuildsImmediately'>Fix Broken Builds Immediately</a></li>

<li><a href = '#build-fast'>Keep the Build Fast</a></li>

<li><a href = '#HideWork-in-progress'>Hide Work-in-Progress</a></li>

<li><a href = '#TestInACloneOfTheProductionEnvironment'>Test in a Clone of the Production Environment</a></li>

<li><a href = '#EveryoneCanSeeWhatsHappening'>Everyone can see what's happening</a></li>

<li><a href = '#AutomateDeployment'>Automate Deployment</a></li>
</ul>
</li>

<li><a href = '#StylesOfIntegration'>Styles of Integration</a></li>

<li><a href = '#BenefitsOfContinuousIntegration'>Benefits of Continuous Integration</a>
<ul>
<li><a href = '#ReducedRiskOfDeliveryDelays'>Reduced risk of delivery delays</a></li>

<li><a href = '#LessTimeWastedInIntegration'>Less time wasted in integration</a></li>

<li><a href = '#LessBugs'>Less Bugs</a></li>

<li><a href = '#EnablesRefactoringForSustainedProductivity'>Enables Refactoring for sustained productivity</a></li>

<li><a href = '#ReleaseToProductionIsABusinessDecision'>Release to Production is a business decision</a></li>
</ul>
</li>

<li><a href = '#WhenWeShouldNotUseContinuousIntegration'>When we should not use Continuous Integration</a></li>

<li><a href = '#introducing'>Introducing Continuous Integration</a></li>

<li><a href = '#CommonQuestions'>Common Questions</a>
<ul>
<li><a href = '#WhereDidContinuousIntegrationComeFrom'>Where did Continuous Integration come from?</a></li>

<li><a href = '#trunk-based'>What is the difference between Continuous Integration and Trunk-Based Development?</a></li>

<li><a href = '#CanWeRunACiServiceOnOurFeatureBranches'>Can we run a CI Service on our feature branches?</a></li>

<li><a href = '#WhatIsTheDifferenceBetweenContinuousIntegrationAndContinuousDelivery'>What is the difference between Continuous Integration and Continuous
          Delivery?</a></li>

<li><a href = '#cont-deploy'>How does Continuous Deployment fit in with all this?</a></li>

<li><a href = '#HowDoWeDoPullRequestsAndCodeReviews'>How do we do pull requests and code reviews?</a></li>

<li><a href = '#HowDoWeHandleDatabases'>How do we handle databases?</a></li>
</ul>
</li>

<li><a href = '#FinalThoughts'>Final Thoughts</a></li>
</ul>

<h3>Sidebars</h3>

<ul>
<li><a href = '#semi-integration'>Semi-Integration (it isn't Continuous Integration)</a></li>
</ul>
</div>
</nav>

<main>
<h1>Continuous Integration</h1>

<section class = 'frontMatter'>
<div class = 'top-image-right '><img src = 'continuousIntegration/card.png'></img>
<p class = 'photoCaption'></p>
</div>

<p class = 'abstract'><i>
    Continuous Integration is a software development practice where each member
    of a team merges their changes into a codebase together with their
    colleagues changes at least daily. Each of these integrations is verified by
    an automated build (including test) to detect integration errors as quickly
    as possible. Teams find that this approach reduces the risk of
    delivery delays, reduces the effort of integration, and enables practices
    that foster a healthy codebase for rapid enhancement with new features.
  </i></p>

<p class = 'date'>18 January 2024</p>
<hr></hr>
<div class = 'front-grid'>
<div class = 'author-list'>
<div class = 'author'>
<div class = 'photo'><a href = '/'><img alt = 'Photo of Martin Fowler' src = '/mf.jpg' width = '80'></img></a></div>

<address class = 'name'><a href = '/' rel = 'author'>Martin Fowler</a></address>
</div>
</div>

<div class = 'tags'>
<p class = 'tag-link'><a href = /tags/popular.html>popular</a></p>

<p class = 'tag-link'><a href = /tags/agile.html>agile</a></p>

<p class = 'tag-link'><a href = /tags/continuous%20delivery.html>continuous delivery</a></p>

<p class = 'tag-link'><a href = /tags/extreme%20programming.html>extreme programming</a></p>
</div>

<div class = 'contents'>
<h2>Contents</h2>

<ul>
<li><a href = '#BuildingAFeatureWithContinuousIntegration'>Building a Feature with Continuous Integration</a></li>

<li><a href = '#PracticesOfContinuousIntegration'>Practices of Continuous Integration</a>
<ul>
<li><a href = '#PutEverythingInAVersionControlledMainline'>Put everything in a version controlled mainline</a></li>

<li><a href = '#AutomateTheBuild'>Automate the Build</a></li>

<li><a href = '#MakeTheBuildSelf-testing'>Make the Build Self-Testing</a></li>

<li><a href = '#EveryonePushesCommitsToTheMainlineEveryDay'>Everyone Pushes Commits To the Mainline Every Day</a></li>

<li><a href = '#EveryPushToMainlineShouldTriggerABuild'>Every Push to Mainline Should Trigger a Build</a></li>

<li><a href = '#FixBrokenBuildsImmediately'>Fix Broken Builds Immediately</a></li>

<li><a href = '#build-fast'>Keep the Build Fast</a></li>

<li><a href = '#HideWork-in-progress'>Hide Work-in-Progress</a></li>

<li><a href = '#TestInACloneOfTheProductionEnvironment'>Test in a Clone of the Production Environment</a></li>

<li><a href = '#EveryoneCanSeeWhatsHappening'>Everyone can see what's happening</a></li>

<li><a href = '#AutomateDeployment'>Automate Deployment</a></li>
</ul>
</li>

<li><a href = '#StylesOfIntegration'>Styles of Integration</a></li>

<li><a href = '#BenefitsOfContinuousIntegration'>Benefits of Continuous Integration</a>
<ul>
<li><a href = '#ReducedRiskOfDeliveryDelays'>Reduced risk of delivery delays</a></li>

<li><a href = '#LessTimeWastedInIntegration'>Less time wasted in integration</a></li>

<li><a href = '#LessBugs'>Less Bugs</a></li>

<li><a href = '#EnablesRefactoringForSustainedProductivity'>Enables Refactoring for sustained productivity</a></li>

<li><a href = '#ReleaseToProductionIsABusinessDecision'>Release to Production is a business decision</a></li>
</ul>
</li>

<li><a href = '#WhenWeShouldNotUseContinuousIntegration'>When we should not use Continuous Integration</a></li>

<li><a href = '#introducing'>Introducing Continuous Integration</a></li>

<li><a href = '#CommonQuestions'>Common Questions</a>
<ul>
<li><a href = '#WhereDidContinuousIntegrationComeFrom'>Where did Continuous Integration come from?</a></li>

<li><a href = '#trunk-based'>What is the difference between Continuous Integration and Trunk-Based Development?</a></li>

<li><a href = '#CanWeRunACiServiceOnOurFeatureBranches'>Can we run a CI Service on our feature branches?</a></li>

<li><a href = '#WhatIsTheDifferenceBetweenContinuousIntegrationAndContinuousDelivery'>What is the difference between Continuous Integration and Continuous
          Delivery?</a></li>

<li><a href = '#cont-deploy'>How does Continuous Deployment fit in with all this?</a></li>

<li><a href = '#HowDoWeDoPullRequestsAndCodeReviews'>How do we do pull requests and code reviews?</a></li>

<li><a href = '#HowDoWeHandleDatabases'>How do we handle databases?</a></li>
</ul>
</li>

<li><a href = '#FinalThoughts'>Final Thoughts</a></li>
</ul>

<h3>Sidebars</h3>

<ul>
<li><a href = '#semi-integration'>Semi-Integration (it isn't Continuous Integration)</a></li>
</ul>
</div>
</div>
<hr></hr></section>

<div class = 'paperBody deep'>
<p>I vividly remember one of my first sightings of a large software project.
    I was taking a summer internship at a large English electronics company. My
    manager, part of the QA group, gave me a tour of a site and we entered a
    huge, depressing, windowless warehouse full of people working in cubicles.
    I was told that these
    programmers had been writing code for this software for a couple of years,
    and while they were done programming, their separate units were now being
    integrated together, and they had been integrating for several months. My
    guide told me that nobody really knew how long it would take to finish
    integrating. From this I learned a common story of software projects:
    integrating the work of multiple developers is a long and unpredictable
    process.</p>

<aside>
<div class = 'article-card'>
<h3><a href = '/articles/branching-patterns.html'>Patterns for Managing Source Code Branches</a></h3>

<div class = 'card-body'>
<p class = 'card-image'><img src = 'https://martinfowler.com/articles/branching-patterns/card.png'></img></p>
This article explores Continuous Integration from another
      perspective, that of considering different strategies to handling
      branching. It goes into the purpose of
      branching, what it means to properly integrate, and the value of
      high-frequency integration. It's not so much a how-to on Continuous
      Integration, and doesn't talk about the practices to do it well. Rather it
      looks at the wider context of Continuous Integration with various other
      branching patterns.
<div class = 'meta'>
<p class = 'credits'>by Martin Fowler</p>

<p class = 'date'>28 May 2020</p>

<p class = 'more'><a href = '/articles/branching-patterns.html'>Read more…</a></p>

<p class = 'type article'>article</p>

<p class = 'tags'> <span class = 'tag-link'><a href = /tags/continuous%20delivery.html>continuous delivery</a></span> <span class = 'tag-link'><a href = /tags/collaboration.html>collaboration</a></span> <span class = 'tag-link'><a href = /tags/version%20control.html>version control</a></span> </p>
</div>
</div>
</div>
</aside>

<p>I haven't heard of a team trapped in such a long integration like this
    for many years, but that doesn't mean that integration is a painless
    process. A developer may have been working for several days on a new
    feature, regularly pulling changes from a common main branch into her
    feature branch. Just before she's ready to push her changes, a big change
    lands on main, one that alters some code that she's interacting with. She
    has to change from finishing off her feature to figuring out how to
    integrate her work with this change, which while better for her colleague,
    doesn't work so well for her. Hopefully the complexities of the change will
    be in merging the source code, not an insidious fault that only shows when
    she runs the application, forcing her to debug unfamiliar code.</p>

<p>At least in that scenario, she gets to find out before she submits her
    pull request. Pull requests can be fraught enough while waiting for someone
    to review a change. The review can take time, forcing her to context-switch
    from her next feature. A difficult integration during that period can be very
    disconcerting, dragging out the review process even longer. And that may not
    even the be the end of story, since integration tests are often only run
    after the pull request is merged.</p>

<p>In time, this team may learn that making significant changes to core code
    causes this kind of problem, and thus stops doing it. But that, by
    preventing regular refactoring, ends up allowing 
    cruft to grow throughout the codebase. Folks who encounter a crufty
    code base wonder how it got into such a state, and often the answer lies in
    an integration process with so much friction that it discourages people from
    removing that cruft.</p>

<p>But this needn't be the way. Most projects done by my colleagues
    at Thoughtworks, and by many others around the world, treat
    integration as a non-event. Any individual developer's work is
    only a few hours away from a shared project state and can be
    integrated back into that state in minutes. Any integration errors
    are found rapidly and can be fixed rapidly.</p>

<p>This contrast isn't the result of an expensive and complex
    tool. The essence of it lies in the simple practice of everyone on
    the team integrating frequently, at least daily, against a
    controlled source code repository. This practice is called &#x201C;Continuous
    Integration&#x201D; (or <a href = '#trunk-based'>in some circles</a> it&#x2019;s called &#x201C;Trunk-Based Development&#x201D;).</p>

<p>In this article, I explain what Continuous Integration is and how to do
    it well. I've written it for two reasons. Firstly there are always new people
    coming into the profession and I want to show them how they can avoid that
    depressing warehouse. But secondly this topic needs clarity because
    Continuous Integration is a much misunderstood concept. There are many
    people who say that they are doing Continuous Integration, but once they describe
    their workflow, it becomes clear that they are missing important pieces. A
    clear understanding of Continuous Integration helps us communicate, so we know
    what to expect when we describe our way of working. It also helps folks
    realize that there are further things they can do to improve their experience.</p>

<p>I originally wrote this article in 2001, with an update in 2006. Since
    then much has changed in usual expectations of software development teams.
    The many-month integration that I saw in the 1980s is a distant memory,
    technologies such as version control and build scripts have become
    commonplace. I rewrote this article again in 2023 to better address the
    development teams of that time, with twenty years of experience to
    confirm the value of Continuous Integration.</p>

<section id = 'BuildingAFeatureWithContinuousIntegration'>
<h2>Building a Feature with Continuous Integration</h2>

<p>The easiest way for me to explain what Continuous Integration is and how it works is to
      show a quick example of how it works with the development of a small
      feature. I'm currently working with a major manufacturer of magic potions, we
      are extending their product quality system to calculate how long the
      potion's effect will last. We already have a dozen potions supported in
      the system, and we need to extend the logic for flying potions. (We've
      learned that having them wear off too early severely impacts customer
      retention.) Flying potions introduce a few new factors to take care of,
      one of which is the moon phase during secondary mixing.</p>

<section class = 'carousel' data-pages = 'init-pull work work-pull-1 test push central-build notify' id = 'ci-dance'>
<div class = 'content'>
<svg class = 'nodearc' id = '' version = '1.1' viewBox = '0 0 500 150' xmlns = 'http://www.w3.org/2000/svg'>
<text class = 'simple-text' dominant-baseline = 'middle' font-size = '10' x = '400' y = '75.86352992298964'>teammates</text>

<path class = 'picture-node central-env local-env init-pull arc line' d = 'M 210 70.0 L 67.61533333333333 70.0'></path>

<path class = 'picture-node central-env local-env init-pull arc end-marker' d = 'M 67.61533333333333 70.0 l -12 -5 M 67.61533333333333 70.0 l -12 5' transform = 'rotate(180.0, 67.61533333333333, 70.0)'></path>

<path class = 'picture-node central-env work arc line' d = 'M 370 70.0 L 240 70.0'></path>

<path class = 'picture-node central-env work arc end-marker' d = 'M 240 70.0 l -12 -5 M 240 70.0 l -12 5' transform = 'rotate(180.0, 240, 70.0)'></path>

<path class = 'picture-node central-env local-env work-pull-1 arc line' d = 'M 210 70.0 L 67.61533333333333 70.0'></path>

<path class = 'picture-node central-env local-env work-pull-1 arc end-marker' d = 'M 67.61533333333333 70.0 l -12 -5 M 67.61533333333333 70.0 l -12 5' transform = 'rotate(180.0, 67.61533333333333, 70.0)'></path>

<path class = 'picture-node local-env central-env push arc line' d = 'M 67.61533333333333 70.0 L 210 70.0'></path>

<path class = 'picture-node local-env central-env push arc end-marker' d = 'M 210 70.0 l -12 -5 M 210 70.0 l -12 5' transform = 'rotate(0.0, 210, 70.0)'></path>

<path class = 'picture-node central-env local-env notify notify-only arc line' d = 'M 210 70.0 L 67.61533333333333 70.0'></path>

<path class = 'picture-node central-env local-env notify notify-only arc end-marker' d = 'M 67.61533333333333 70.0 l -12 -5 M 67.61533333333333 70.0 l -12 5' transform = 'rotate(180.0, 67.61533333333333, 70.0)'></path>

<path class = 'picture-node central-env notify arc line' d = 'M 240 70.0 L 370 70.0'></path>

<path class = 'picture-node central-env notify arc end-marker' d = 'M 370 70.0 l -12 -5 M 370 70.0 l -12 5' transform = 'rotate(0.0, 370, 70.0)'></path>

<g class = 'picture-node local-env na-node'>
<path class = 'picture-node local-env' d = 'M 40 50 m 22.02127,10.00741
h 0.005
c 2.95253,0 5.2159,2.29601 5.2425,5.316239 0.029,3.366031 -2.30931,5.86275 -5.47826,5.86275
h -0.0399
c -2.87153,-0.01935 -5.20018,-2.3613 -5.23282,-5.26305 -0.0411,-3.328549 2.36371,-5.913519 5.50365,-5.915939
z

m 6.32897,18.69916
c 4.61366,-2.67144 7.33116,-7.751081 7.36124,-14.83984 -0.01,-3.64653 -1.39405,-8.00882 -5.62335,-11.04115 -2.96341,-2.12191 -6.34999,-2.82558 -9.91794,-2.82558 -0.081,0 -0.16564,0.0012 -0.24544,0.0012 -11.6734896,0.10277 -18.95325957,12.78583 -13.2827496,22.979439 1.64425,2.95681 4.3496896,4.997591 7.3301496,6.221221 -0.24548,0.37672 -0.48256,0.77549 -0.71034,1.1961 -4.6771996,7.50097 -5.9450096,6.57892 -11.0879096,14.47238 -5.05568,8.02585 -0.86286,14.63125 8.1317596,14.86799
h 0.13083
c 5.23479,0 7.89346,0.0654 10.54434,0.13083 2.65867,0.0654 5.30643,0.13083 10.53032,0.13083
h 0.25855 0.0825
c 8.73608,0 12.38221,-6.88575 7.15365,-14.32909 -5.21766,-7.36079 -4.80648,-7.2798 -9.41982,-15.11563 -0.39653,-0.67354 -0.8095,-1.28955 -1.23583,-1.84872
z' transform = 'scale(0.6666666666666666) translate(0, 0)' transform-origin = '40 50'></path>

<foreignObject class = 'label-below' height = '20' width = '50' x = '30' y = '95'>
<p xmlns = 'http://www.w3.org/1999/xhtml'>
<span>local environment</span>
</p>
</foreignObject>
</g>

<g class = 'picture-node central-env na-node'>
<rect class = 'picture-node central-env' height = '40' width = '30' x = '210' y = '50'></rect>

<foreignObject class = 'label-below' height = '20' width = '50' x = '200' y = '95'>
<p xmlns = 'http://www.w3.org/1999/xhtml'>
<span>central repo and environment</span>
</p>
</foreignObject>
</g>

<g class = 'picture-node na-node'>
<path class = 'picture-node' d = 'M 380 60 m 22.02127,10.00741
h 0.005
c 2.95253,0 5.2159,2.29601 5.2425,5.316239 0.029,3.366031 -2.30931,5.86275 -5.47826,5.86275
h -0.0399
c -2.87153,-0.01935 -5.20018,-2.3613 -5.23282,-5.26305 -0.0411,-3.328549 2.36371,-5.913519 5.50365,-5.915939
z

m 6.32897,18.69916
c 4.61366,-2.67144 7.33116,-7.751081 7.36124,-14.83984 -0.01,-3.64653 -1.39405,-8.00882 -5.62335,-11.04115 -2.96341,-2.12191 -6.34999,-2.82558 -9.91794,-2.82558 -0.081,0 -0.16564,0.0012 -0.24544,0.0012 -11.6734896,0.10277 -18.95325957,12.78583 -13.2827496,22.979439 1.64425,2.95681 4.3496896,4.997591 7.3301496,6.221221 -0.24548,0.37672 -0.48256,0.77549 -0.71034,1.1961 -4.6771996,7.50097 -5.9450096,6.57892 -11.0879096,14.47238 -5.05568,8.02585 -0.86286,14.63125 8.1317596,14.86799
h 0.13083
c 5.23479,0 7.89346,0.0654 10.54434,0.13083 2.65867,0.0654 5.30643,0.13083 10.53032,0.13083
h 0.25855 0.0825
c 8.73608,0 12.38221,-6.88575 7.15365,-14.32909 -5.21766,-7.36079 -4.80648,-7.2798 -9.41982,-15.11563 -0.39653,-0.67354 -0.8095,-1.28955 -1.23583,-1.84872
z' transform = 'scale(0.3621176640996548) translate(0, 0)' transform-origin = '380 60'></path>

<foreignObject class = 'label-below' height = '20' width = '15' x = '380' y = '86.72705984597928'>
<p xmlns = 'http://www.w3.org/1999/xhtml'>
<span></span>
</p>
</foreignObject>
</g>

<g class = 'picture-node na-node'>
<path class = 'picture-node' d = 'M 375 20 m 22.02127,10.00741
h 0.005
c 2.95253,0 5.2159,2.29601 5.2425,5.316239 0.029,3.366031 -2.30931,5.86275 -5.47826,5.86275
h -0.0399
c -2.87153,-0.01935 -5.20018,-2.3613 -5.23282,-5.26305 -0.0411,-3.328549 2.36371,-5.913519 5.50365,-5.915939
z

m 6.32897,18.69916
c 4.61366,-2.67144 7.33116,-7.751081 7.36124,-14.83984 -0.01,-3.64653 -1.39405,-8.00882 -5.62335,-11.04115 -2.96341,-2.12191 -6.34999,-2.82558 -9.91794,-2.82558 -0.081,0 -0.16564,0.0012 -0.24544,0.0012 -11.6734896,0.10277 -18.95325957,12.78583 -13.2827496,22.979439 1.64425,2.95681 4.3496896,4.997591 7.3301496,6.221221 -0.24548,0.37672 -0.48256,0.77549 -0.71034,1.1961 -4.6771996,7.50097 -5.9450096,6.57892 -11.0879096,14.47238 -5.05568,8.02585 -0.86286,14.63125 8.1317596,14.86799
h 0.13083
c 5.23479,0 7.89346,0.0654 10.54434,0.13083 2.65867,0.0654 5.30643,0.13083 10.53032,0.13083
h 0.25855 0.0825
c 8.73608,0 12.38221,-6.88575 7.15365,-14.32909 -5.21766,-7.36079 -4.80648,-7.2798 -9.41982,-15.11563 -0.39653,-0.67354 -0.8095,-1.28955 -1.23583,-1.84872
z' transform = 'scale(0.3621176640996548) translate(0, 0)' transform-origin = '375 20'></path>

<foreignObject class = 'label-below' height = '20' width = '15' x = '375' y = '46.727059845979284'>
<p xmlns = 'http://www.w3.org/1999/xhtml'>
<span></span>
</p>
</foreignObject>
</g>

<g class = 'picture-node na-node'>
<path class = 'picture-node' d = 'M 395 40 m 22.02127,10.00741
h 0.005
c 2.95253,0 5.2159,2.29601 5.2425,5.316239 0.029,3.366031 -2.30931,5.86275 -5.47826,5.86275
h -0.0399
c -2.87153,-0.01935 -5.20018,-2.3613 -5.23282,-5.26305 -0.0411,-3.328549 2.36371,-5.913519 5.50365,-5.915939
z

m 6.32897,18.69916
c 4.61366,-2.67144 7.33116,-7.751081 7.36124,-14.83984 -0.01,-3.64653 -1.39405,-8.00882 -5.62335,-11.04115 -2.96341,-2.12191 -6.34999,-2.82558 -9.91794,-2.82558 -0.081,0 -0.16564,0.0012 -0.24544,0.0012 -11.6734896,0.10277 -18.95325957,12.78583 -13.2827496,22.979439 1.64425,2.95681 4.3496896,4.997591 7.3301496,6.221221 -0.24548,0.37672 -0.48256,0.77549 -0.71034,1.1961 -4.6771996,7.50097 -5.9450096,6.57892 -11.0879096,14.47238 -5.05568,8.02585 -0.86286,14.63125 8.1317596,14.86799
h 0.13083
c 5.23479,0 7.89346,0.0654 10.54434,0.13083 2.65867,0.0654 5.30643,0.13083 10.53032,0.13083
h 0.25855 0.0825
c 8.73608,0 12.38221,-6.88575 7.15365,-14.32909 -5.21766,-7.36079 -4.80648,-7.2798 -9.41982,-15.11563 -0.39653,-0.67354 -0.8095,-1.28955 -1.23583,-1.84872
z' transform = 'scale(0.3621176640996548) translate(0, 0)' transform-origin = '395 40'></path>

<foreignObject class = 'label-below' height = '20' width = '15' x = '395' y = '66.72705984597928'>
<p xmlns = 'http://www.w3.org/1999/xhtml'>
<span></span>
</p>
</foreignObject>
</g>

<g class = 'picture-node na-node'>
<path class = 'picture-node' d = 'M 370 85 m 22.02127,10.00741
h 0.005
c 2.95253,0 5.2159,2.29601 5.2425,5.316239 0.029,3.366031 -2.30931,5.86275 -5.47826,5.86275
h -0.0399
c -2.87153,-0.01935 -5.20018,-2.3613 -5.23282,-5.26305 -0.0411,-3.328549 2.36371,-5.913519 5.50365,-5.915939
z

m 6.32897,18.69916
c 4.61366,-2.67144 7.33116,-7.751081 7.36124,-14.83984 -0.01,-3.64653 -1.39405,-8.00882 -5.62335,-11.04115 -2.96341,-2.12191 -6.34999,-2.82558 -9.91794,-2.82558 -0.081,0 -0.16564,0.0012 -0.24544,0.0012 -11.6734896,0.10277 -18.95325957,12.78583 -13.2827496,22.979439 1.64425,2.95681 4.3496896,4.997591 7.3301496,6.221221 -0.24548,0.37672 -0.48256,0.77549 -0.71034,1.1961 -4.6771996,7.50097 -5.9450096,6.57892 -11.0879096,14.47238 -5.05568,8.02585 -0.86286,14.63125 8.1317596,14.86799
h 0.13083
c 5.23479,0 7.89346,0.0654 10.54434,0.13083 2.65867,0.0654 5.30643,0.13083 10.53032,0.13083
h 0.25855 0.0825
c 8.73608,0 12.38221,-6.88575 7.15365,-14.32909 -5.21766,-7.36079 -4.80648,-7.2798 -9.41982,-15.11563 -0.39653,-0.67354 -0.8095,-1.28955 -1.23583,-1.84872
z' transform = 'scale(0.3621176640996548) translate(0, 0)' transform-origin = '370 85'></path>

<foreignObject class = 'label-below' height = '20' width = '15' x = '370' y = '111.72705984597928'>
<p xmlns = 'http://www.w3.org/1999/xhtml'>
<span></span>
</p>
</foreignObject>
</g>

<foreignObject class = 'init-pull legend' height = '50' width = '120' x = '77.61533333333333' y = '10'>
<div xmlns = 'http://www.w3.org/1999/xhtml'><p>I pull from the central store to ensure my local copy is up-to-date</p></div>
</foreignObject>

<foreignObject class = 'work legend' height = '30' width = '150' x = '6.903833333333331' y = '0'>
<div xmlns = 'http://www.w3.org/1999/xhtml'><p>I make my changes to the code base, until I'm ready and tests are green…</p></div>
</foreignObject>

<foreignObject class = 'work legend' height = '50' width = '120' x = '250' y = '20'>
<div xmlns = 'http://www.w3.org/1999/xhtml'><p>…meanwhile colleagues update the central repo with their commits</p></div>
</foreignObject>

<foreignObject class = 'work-pull-1 legend' height = '50' width = '120' x = '77.61533333333333' y = '10'>
<div xmlns = 'http://www.w3.org/1999/xhtml'><p>I pull collaborators' changes from the central store and combine them with my changes</p></div>
</foreignObject>

<foreignObject class = 'test legend' height = '30' width = '150' x = '6.903833333333331' y = '0'>
<div xmlns = 'http://www.w3.org/1999/xhtml'><p>I rebuild and check tests are green</p></div>
</foreignObject>

<foreignObject class = 'push legend' height = '50' width = '120' x = '77.61533333333333' y = '10'>
<div xmlns = 'http://www.w3.org/1999/xhtml'><p>I push my changes to the central repo</p></div>
</foreignObject>

<foreignObject class = 'central-build legend' height = '30' width = '150' x = '177.5' y = '0'>
<div xmlns = 'http://www.w3.org/1999/xhtml'><p>A service builds the product on a central environment</p></div>
</foreignObject>

<foreignObject class = 'notify legend' height = '50' width = '120' x = '77.61533333333333' y = '10'>
<div xmlns = 'http://www.w3.org/1999/xhtml'><p>The central system notifies me that all was well with the central build</p></div>
</foreignObject>

<foreignObject class = 'notify legend' height = '50' width = '120' x = '250' y = '10'>
<div xmlns = 'http://www.w3.org/1999/xhtml'><p>my colleagues will combine their changes when they prepare to push their next changes</p></div>
</foreignObject>
</svg>
</div>

<div class = 'controls'>
<button class = 'btn-prev'>
<svg style = 'width: 100%' viewbox = '0 0 124 124'>
<path d = 'M85.742,1.779l-56,56c-2.3,2.3-2.3,6.1,0,8.401l56,56c3.801,3.8,10.2,1.1,10.2-4.2v-112 C95.942,0.679,89.543-2.021,85.742,1.779z'></path>
</svg>
</button>

<button class = 'btn-page init-pull' data-page = 'init-pull'></button>

<button class = 'btn-page work' data-page = 'work'></button>

<button class = 'btn-page work-pull-1' data-page = 'work-pull-1'></button>

<button class = 'btn-page test' data-page = 'test'></button>

<button class = 'btn-page push' data-page = 'push'></button>

<button class = 'btn-page central-build' data-page = 'central-build'></button>

<button class = 'btn-page notify' data-page = 'notify'></button>

<button class = 'btn-next'>
<svg style = 'width: 100%' viewbox = '0 0 124 124'>
<path d = 'M85.742,1.779l-56,56c-2.3,2.3-2.3,6.1,0,8.401l56,56c3.801,3.8,10.2,1.1,10.2-4.2v-112 C95.942,0.679,89.543-2.021,85.742,1.779z' transform = 'rotate(180, 60, 60)'></path>
</svg>
</button>
</div>
</section>

<p>I begin by taking a copy of the latest product sources
      onto my local development environment. I do this by checking out the
      current mainline from the central repository with
      <code>git pull</code>.</p>

<p>Once the source is in my environment, I execute a command to build
      the product. This command checks that my environment is set up correctly, does
      any compilation of the sources into an executable product, starts the
      product, and runs a comprehensive suite of tests against it. This should
      take only a few minutes, while I start poking around the code to
      decide how to begin adding the new feature. This build hardly ever fails,
      but I do it just in case, because if it does fail, I want to know before I
      start making changes. If I make changes on top of a failing build, I'll
      get confused thinking it was my changes that caused the failure.</p>

<p>Now I take my working copy and do whatever I need to do to deal with
      the moon phases. This will consist of both altering the product code, and
      also adding or changing some of the automated tests. During that time I
      run the automated build and tests frequently. After an hour or so I have
      the moon logic incorporated and tests updated. </p>

<aside>
<div class = 'article-card'>
<h3><a href = '/books/duvall.html'>Continuous Integration</a></h3>

<div class = 'card-body'>
<p class = 'card-image'><img class = 'book-cover' src = '/books/duvall.jpg'></img></p>

<p class = 'abstract'>
        A detailed handbook on the details of how to do Continuous Integration.
        After outlining the core principles of the practice, it explains how CI
        reduces risks by building software at every change. It then looks at a
        full-featured CI environment comprising continuous database integration,
        testing, inspection, deployment,and feedback.
      </p>

<div class = 'meta'>
<p class = 'credits'>by Paul Duvall, Steve Matyas, and Andrew Glover</p>

<p class = 'date'>2007</p>

<p class = 'more'><a href = '/books/duvall.html'>Read more…</a></p>

<p class = 'type book'>book</p>

<p class = 'tags'> </p>
</div>
</div>
</div>
</aside>

<p>I'm now ready to integrate my changes back into the central repository. My
      first step for this is to pull again, because it's possible, indeed
      likely, that my colleagues will have pushed changes into the mainline
      while I've been working. Indeed there are a couple of such changes, which
      I pull into my working copy. I combine my changes on top of them and run
      the build again. Usually this feels superfluous, but this time a test
      fails. The test gives me some clue about what's gone wrong, but I find it
      more useful to look at the commits that I pulled to see what changed. It
      seems that someone has made an adjustment to a function, moving some of its
      logic out into its callers. They fixed all the callers in the mainline
      code, but I added a new call in my changes that, of course, they couldn't
      see yet. I make the same adjustment and rerun the build, which passes this
      time.</p>

<p>Since I was a few minutes sorting that out, I pull again, and again
      there's a new commit. However the build works fine with this one, so I'm
      able to <code>git push</code> my change up to the central repository.</p>

<p>However my push doesn't mean I'm done. Once I've pushed to the mainline
      a Continuous Integration Service notices my commit, checks out the changed
      code onto a CI agent, and builds it there. Since the build was
      fine in my environment I don't expect it to fail on the CI Service,
      but there is a reason that &#x201C;works on my machine&#x201D; is a well-known
      phrase in programmer circles. It's rare that something gets missed that
      causes the CI Services build to fail, but rare is not the same
      as never.</p>

<p>The integration machine's build doesn't take long, but it's long enough
      that an eager developer would be starting to think about the next step in
      calculating flight time. But I'm an old guy, so enjoy a few minutes to
      stretch my legs and read an email. I soon get a notification from the CI
      service that all is well, so I start the process again for the next part of
      the change.</p>
</section>

<section id = 'PracticesOfContinuousIntegration'>
<h2>Practices of Continuous Integration</h2>

<p>The story above is an illustration of Continuous Integration that
      hopefully gives you a feel of what it's like for an ordinary programmer to
      work with. But, as with anything, there's quite a few things to sort out
      when doing this in daily work. So now we'll go through the key practices
      that we need to do.</p>

<section id = 'PutEverythingInAVersionControlledMainline'>
<h3>Put everything in a version controlled mainline</h3>

<p>These days almost every software team keeps their source code in a
        version control system, so that every developer can easily find not just
        the current state of the product, but all the changes that have been
        made to the product. Version control tools allow a system to be rolled
        back to any point in its development, which can be very helpful to
        understand the history of the system, using <a href = '/bliki/DiffDebugging.html'>Diff Debugging</a> to find bugs. As I write this, the dominant
        version control system is <a href = 'https://git-scm.com'>git</a>.</p>

<p>But while version control is commonplace, some teams fail to
        take full advantage of version control.
        My test for full version control is that I should be able to walk
        up with a very minimally configured environment - say a laptop with no
        more than the vanilla operating system installed - and be able to easily
        build, and run the product after cloning the repository. This means the
        repository should reliably return product source code, tests, database
        schema, test data, configuration files, IDE configurations, install
        scripts, third-party libraries, and any tools required to build the
        software.</p>

<div class = 'soundbite'>
<p>I should be able to walk up with a laptop loaded with only an
        operating system, and by using the repository, obtain everything I need to
        build and run the product.</p>
</div>

<p>You might notice I said that the repository should <i>return</i> all
        of these elements, which isn't the same as storing them. We don't have
        to store the compiler in the repository, but we need to be able to
        get at the right compiler. If I check out last year's product sources, I
        may need to be able to build them with the compiler I was using last year,
        not the version I'm using now. The repository can do this by storing a
        link to immutable asset storage - immutable in the sense that once an
        asset is stored with an id, I'll always get exactly that asset back
        again. I can also do this with library code, providing I both trust the
        asset storage and always reference a particular version, never &#x201C;the latest
        version&#x201D;.</p>

<p>Similar asset storage schemes can be used for anything too large,
        such as videos. Cloning a repository often means grabbing everything,
        even if it's not needed. By using references to an asset store, the
        build scripts can choose to download only what's needed for a particular
        build.</p>

<p>In general we should store in source control everything we need to
        build anything, but nothing that we actually build. Some people do keep
        the build products in source control, but I consider that to be a <a href = '/bliki/CodeSmell.html'>smell</a>
        - an indication of a deeper problem, usually an inability to reliably
        recreate builds. It can be useful to cache build products, but they
        should always be treated as disposable, and it's usually good to then
        ensure they are removed promptly so that people don't rely on them when
        they shouldn't.</p>

<p>A second element of this principle is that it should be easy to find
        the code for a given piece of work. Part of this is clear names and URL
        schemes, both within the repository and within the broader enterprise.
        It also means not having to spend time figuring out which branch within
        the version control system to use. Continuous Integration relies on
        having a clear <a href = '/articles/branching-patterns.html#mainline'>mainline</a> - a single,
        shared, branch that acts as the current state of the product. This is
        the next version that will be deployed to production.</p>

<p>Teams that use git mostly  use the name &#x201C;main&#x201D; for the mainline
        branch, but we also sometimes see 
        &#x201C;trunk&#x201D; or the
        old default of &#x201C;master&#x201D;. The mainline is that branch on the central repository,
        so to add a commit to a mainline called <code>main</code> I need to first commit to my
        local copy of <code>main</code> and then push that commit to the central server. The
        tracking branch (called something like <code>origin/main</code>) is a copy of the
        mainline on my local machine. However it may be out of date, since in a
        Continuous Integration environment there are many commits pushed into
        mainline every day.</p>

<p>As much as possible, we should use text files to define the product
        and its environment. I say this because, although version-control
        systems can store and track non-text files, they don't usually provide any
        facility to easily see the difference between versions.
        This makes it much harder to understand what change was made.
        It's possible that in the future we'll see more storage formats
        having the facility to create meaningful diffs, but at the moment clear
        diffs are almost entirely reserved for text formats. Even there we need
        to use text formats that will produce comprehensible diffs. </p>
</section>

<section id = 'AutomateTheBuild'>
<h3>Automate the Build</h3>

<p>Turning the source code into a running system can often be a
        complicated process involving compilation, moving files around, loading
        schemas into databases, and so on. However like most tasks in this
        part of software development it can be automated - and as a result
        should be automated. Asking people to type in strange commands or
        clicking through dialog boxes is a waste of time and a breeding ground
        for mistakes.</p>

<blockquote class = 'aside'>
<p>Computers are designed to perform simple, repetitive tasks. As soon
          as you have humans doing repetitive tasks on behalf of computers, all
          the computers get together late at night and laugh at you.</p>

<p class = 'quote-attribution'>-- <a href = 'https://nealford.com/memeagora/2015/09/02/simple-repetitive-tasks.html'>Neal Ford</a></p>
</blockquote>

<p>Most modern programming environments include tooling for automating
        builds, and such tools have been around for a long time. I first encountered
        them with <a href = 'https://en.wikipedia.org/wiki/Make_(software)'>make</a>, one of the earliest Unix
        tools.</p>

<p>Any instructions for the build need to be stored in the repository,
        in practice this means that we must use text representations. That way
        we can easily inspect them to see how they work, and crucially, see
        diffs when they change. Thus teams using Continuous Integration avoid
        tools that require clicking around in UIs to perform a build or to
        configure an environment.</p>

<p>It's possible to use a regular programming language to automate
        builds, indeed simple builds are often captured as shell scripts. But as
        builds get more complicated it's better to use a tool that's designed
        with build automation in mind. Partly this is because such tools will
        have built-in functions for common build tasks. But the main reason is
        that build tools work best with a particular way to organize their logic
        - an alternative computational model that I refer to as a <a href = '/dslCatalog/dependencyNetwork.html'>Dependency Network</a>. A dependency network organizes
        its logic into tasks which are structured as a graph of dependencies.
        </p>

<p>A trivially simple dependency network might say that the &#x201C;test&#x201D; task is
        dependent upon the &#x201C;compile&#x201D; task. If I invoke the test task, it will
        look to see if the compile task needs to be run and if so invoke it
        first. Should the compile task itself have dependencies, the network will look to see if
        it needs to invoke them first, and so on backwards along the dependency
        chain. A dependency network like this is useful for build scripts
        because often tasks take a long time, which is wasted if they aren't
        needed. If nobody has changed any source files since I last ran the
        tests, then I can save doing a potentially long compilation.</p>

<p>To tell if a task needs to be run, the most common and
        straightforward way is to look at the modification times of files. If any
        of the input files to the compilation have been modified later than the
        output, then we know the compilation needs to be executed if that task
        is invoked.</p>

<p>A common mistake is not to include everything in the automated build.
        The build should include getting the database schema out of the
        repository and firing it up in the execution environment. I'll elaborate
        my earlier rule of thumb: anyone should be able to bring in a clean
        machine, check the sources out of the repository, issue a single
        command, and have a running system on their own environment.</p>

<p>While a simple program may only need a line or two of script file to
        build, complex systems often have a large graph of dependencies, finely
        tuned to minimize the amount of time required to build things. This
        website, for example, has over a thousand web pages. My build system
        knows that should I alter the source for this page, I only have to build
        this one page. But should I alter a core file in the publication
        tool chain, then it needs to rebuild them all. Either way, I invoke the
        same command in my editor, and the build system figures out how much to do.</p>

<p>Depending on what we need, we may need different kinds of things to
        be built. We can build a system with or without test code, or with
        different sets of tests. Some components can be built stand-alone. A
        build script should allow us to build alternative targets for different
        cases.</p>
</section>

<section id = 'MakeTheBuildSelf-testing'>
<h3>Make the Build Self-Testing</h3>

<p>Traditionally a build meant compiling, linking, and all the
        additional stuff required to get a program to execute. A program may
        run, but that doesn't mean it does the right thing. Modern statically
        typed languages can catch many bugs, but far more slip through that net.
        This is a critical issue if we want to integrate as frequently as
        Continuous Integration demands. If bugs make their way into the product,
        then we are faced with the daunting task of performing bug fixes on a
        rapidly-changing code base. Manual testing is too slow to cope with the
        frequency of change.</p>

<p>Faced with this, we need to ensure that bugs don't get into the
        product in the first place. The main technique to do this is a
        comprehensive test suite, one that is run before each integration to
        flush out as many bugs as possible. Testing isn't perfect, of course,
        but it can catch a lot of bugs - enough to be useful. Early computers I
        used did a visible memory self-test when they were booting up, which led
        me referring to this as <a href = '/bliki/SelfTestingCode.html'>Self Testing Code</a>.</p>

<p>Writing self-testing code affects a programmer's workflow. Any
        programming task combines both modifying the functionality of the
        program, and also augmenting the test suite to verify this changed
        behavior. A programmer's job isn't done merely when the new
        feature is working, but also when they have automated tests to prove it.</p>

<p>Over the two decades since the first version of this article, I've
        seen programming environments increasingly embrace the need to provide
        the tools for programmers to build such test suites. The biggest push
        for this was JUnit, originally written by Kent Beck and Erich Gamma,
        which had a marked impact on the Java community in the late 1990s. This
        inspired similar testing frameworks for other languages, often referred
        to as <a href = '/bliki/Xunit.html'>Xunit</a> frameworks. These stressed a
        light-weight, programmer-friendly mechanics that allowed a programmer to
        easily build tests in concert with the product code. Often these tools
        have some kind of graphical progress bar that is green if the tests pass,
        but turns red should any fail - leading to phrases like &#x201C;green build&#x201D;,
        or &#x201C;red-bar&#x201D;. </p>

<div class = 'soundbite'>
<p>A sound test suite would never allow a mischievous imp to do
        any damage without a test turning red.</p>
</div>

<p>The test of such a test suite is that we should be confident that if the
        tests are green, then no significant bugs are in the product. I like to
        imagine a mischievous imp that is able to make simple modifications to
        the product code, such as commenting out lines, or reversing
        conditionals, but is not able to change the tests. A sound test suite
        would never allow the imp to do any damage without a test turning
        red. And any test failing is enough to fail the build, 99.9% green is
        still red.</p>

<p>Self-testing code is so important to Continuous Integration that it is a
        necessary prerequisite. Often the biggest barrier to implementing
        Continuous Integration is insufficient skill at testing.</p>

<p>That self-testing code and Continuous Integration are so tied
        together is no surprise. Continuous Integration was originally developed
        as part of <a href = '/bliki/ExtremeProgramming.html'>Extreme Programming</a> and testing has always
        been a core practice of Extreme Programming. This testing is often done
        in the form of <a href = '/bliki/TestDrivenDevelopment.html'>Test Driven Development</a> (TDD), a practice that
        instructs us to never write new code unless it fixes a test that we've
        written just before. TDD isn't essential for Continuous Integration, as
        tests can be written after production code as long as they are done
        before integration. But I do find that, most of the time, TDD is the best
        way to write self-testing code.</p>

<p>The tests act as an automated check of the health of the code
        base, and while tests are the key element of such an automated
        verification of the code, many programming environments provide additional
        verification tools. Linters can detect poor programming practices,
        and ensure code follows a team's preferred formatting
        style, vulnerability scanners can find security weaknesses. Teams should
        evaluate these tools to include them in the verification process.</p>

<p>Of course we can't count on tests to find everything. As it's often
        been said: tests don't prove the absence of bugs. However perfection
        isn't the only point at which we get payback for a self-testing build.
        Imperfect tests, run frequently, are much better than perfect tests that
        are never written at all.</p>
</section>

<section id = 'EveryonePushesCommitsToTheMainlineEveryDay'>
<h3>Everyone Pushes Commits To the Mainline Every Day</h3>

<blockquote class = 'aside'>
<p>No code sits unintegrated for more than a couple of hours.</p>

<p class = 'quote-attribution'>-- <a href="https://www.amazon.com/gp/product/0201616416/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=0201616416&linkCode=as2&tag=martinfowlerc-20">Kent Beck</a></p>
</blockquote>

<p>Integration is primarily about communication. Integration
        allows developers to tell other developers about the changes
        they have made. Frequent communication allows people to know
        quickly as changes develop.</p>

<p>The one prerequisite for a developer committing to the
        mainline is that they can correctly build their code. This, of
        course, includes passing the build tests. As with any commit
        cycle the developer first updates their working copy to match
        the mainline, resolves any conflicts with the mainline, then
        builds on their local machine. If the build passes, then they
        are free to push to the mainline.</p>

<p>If everyone pushes to the mainline frequently, developers quickly find out if
        there's a conflict between two developers. The key to fixing problems
        quickly is finding them quickly. With developers committing every few
        hours a conflict can be detected within a few hours of it occurring, at
        that point not much has happened and it's easy to resolve. Conflicts
        that stay undetected for weeks can be very hard to resolve.</p>

<aside class = 'sidebar' id = 'semi-integration'>
<h3>Semi-Integration (it isn't Continuous Integration)</h3>

<p>There's a common confusion about the term &#x201C;integration&#x201D;. Many people
        who work on branches, perhaps a feature branch or a personal development
        branch, will regularly pull changes from mainline. They check that these
        don't break their work by building and testing after the pull. They may
        use a CI Service to do this, checking that any change
        to mainline doesn't break their branch.</p>

<p>But this isn't the full integration process. Full <a href = '/articles/branching-patterns.html#mainline-integration'>mainline integration</a> requires that
        developers push their work back into the mainline. If they don't do
        that, then other team members can't see their work and check for any
        conflicts. This semi-integration doesn't prevent branches from diverging,
        conflicts from festering, and all the problems of low-frequency integration.
        Continuous Integration requires full mainline integration, no code sits
        on a branch longer than a few hours without being pushed into the
        mainline.</p>
</aside>

<p>Conflicts in the codebase come in different forms. The easiest to
        find and resolve are textual conflicts, often called &#x201C;merge conflicts&#x201D;,
        when two developers edit the
        same fragment of code in different ways. Version-control tools detect
        these easily once the second developer pulls the updated mainline into
        their working copy. The harder problem are <a href = '/bliki/SemanticConflict.html'>Semantic Conflicts</a>. If my colleague changes the
        name of a function and I call that function in my newly added code,
        the version-control system can't help us. In a statically typed language
        we get a compilation failure, which is pretty easy to detect, but in a
        dynamic language we get no such help. And even statically-typed
        compilation doesn't help us when a colleague makes a change to the body
        of a function that I call, making a subtle change to what it does. This
        is why it's so important to have self-testing code.</p>

<p>A test failure alerts that there's a conflict between changes, but we
        still have to figure out what the conflict is and how to resolve it.
        Since there's only a few hours of changes between commits, there's only
        so many places where the problem could be hiding. Furthermore since not
        much has changed we can use <a href = '/bliki/DiffDebugging.html'>Diff Debugging</a> to help us find the
        bug.</p>

<p>My general rule of thumb is that every developer should commit to the
        mainline every day. In practice, those experienced with Continuous
        Integration integrate more frequently than that. The more frequently we
        integrate, the less places we have to look for conflict errors, and the
        more rapidly we fix conflicts.</p>

<p>Frequent commits encourage developers to break down their
        work into small chunks of a few hours each. This helps
        track progress and provides a sense of progress. Often people
        initially feel they can't do something meaningful in just a few
        hours, but we've found that mentoring and practice helps us learn.</p>
</section>

<section id = 'EveryPushToMainlineShouldTriggerABuild'>
<h3>Every Push to Mainline Should Trigger a Build</h3>

<p>If everyone on the team integrates at least daily, this ought to mean
        that the mainline stays in a healthy state. In practice, however, things
        still do go wrong. This may be due to lapses in discipline, neglecting
        to update and build before a push, there may also be environmental
        differences between developer workspaces.</p>

<p>We thus need to ensure that every commit is verified in a reference
        environment. The usual way to do this is with a <b>Continuous Integration
        Service (CI Service)</b> that monitors the mainline. (Examples of CI
        Services are tools like Jenkins, GitHub Actions, Circle CI etc.)  Every time
        the mainline receives a commit, the CI service checks out the head of the
        mainline into an integration environment and performs a full build. Only
        once this integration build is green can the developer consider the
        integration to be complete. By ensuring we have a build with every push,
        should we get a failure, we know that the fault lies in that latest
        push, narrowing down where have to look to fix it.</p>

<p>I want to stress here that when we use a CI Service, we only use it on
        the mainline, which is the main branch on the reference instance of the
        version control system. It's common to use a CI service to monitor and build
        from multiple branches, but the whole point of integration is to have
        all commits coexisting on a <i>single</i> branch. While it may be useful to use
        CI service to do an automated build for different branches, that's not
        the same as Continuous Integration, and teams using Continuous
        Integration will only need the CI service to monitor a single branch of
        the product.</p>

<p>While almost all teams use CI Services these days, it is
        <a href = 'https://www.jamesshore.com/v2/blog/2006/continuous-integration-on-a-dollar-a-day'>perfectly
        possible</a> to do Continuous Integration without one. Team members can
        manually check out the head on the mainline onto an integration machine
        and perform a build to verify the integration. But there's little point
        in a manual process when automation is so freely available.</p>

<p>(This is an appropriate point to mention that my colleagues at
        Thoughtworks, have contributed a lot of open-source tooling for
        Continuous Integration, in particular Cruise Control - the first CI
        Service.)</p>
</section>

<section id = 'FixBrokenBuildsImmediately'>
<h3>Fix Broken Builds Immediately</h3>

<p>Continuous Integration can only work if the mainline is kept in a
        healthy state. Should the integration build fail, then it needs to be
        fixed right away. As Kent Beck puts it: &#x201C;nobody has a
        higher priority task than fixing the build&#x201D;. This doesn't mean
        that everyone on the team has to stop what they are doing in
        order to fix the build, usually it only needs a couple of
        people to get things working again. It does mean a conscious
        prioritization of a build fix as an urgent, high priority
        task</p>

<div class = 'soundbite'>
<p>Usually the best way to fix the build is to revert the
        faulty commit from the mainline, allowing the rest of the team to
        continue working.</p>
</div>

<p>Usually the best way to fix the build is to revert the latest commit
        from the mainline, taking the system back to the last-known good build.
        If the cause of the problem is immediately obvious then it can be fixed
        directly with a new commit, but otherwise reverting the mainline allows
        some folks to figure out the problem in a separate development
        environment, allowing the rest of the team to continue to work with the
        mainline.</p>

<p>Some teams prefer to remove all risk of breaking the mainline by
        using a <a href = '/bliki/PendingHead.html'>Pending Head</a> (also called Pre-tested, Delayed,
        or Gated Commit.) To do this the CI service needs to set things up so that
        commits pushed to the mainline for integration do not immediately go
        onto the mainline. Instead they are placed on another branch until the
        build completes and only migrated to the mainline after a green build.
        While this technique avoids any danger to mainline breaking, an
        effective team should rarely see a red mainline, and on the few times it
        happens its very visibility encourages folks to learn how to avoid
        it.</p>

<aside>
<div class = 'article-card'>
<h3><a href = '/bliki/ContinuousIntegrationCertification.html'>Continuous Integration Certification</a></h3>

<div class = 'card-body'>
<p class = 'card-image'><img src = 'https://martinfowler.com/bliki/images/ci-certification/card.png'></img></p>
Jez Humble's simple three-part test for Continuous Integration.
          Jez regularly uses it during conference talks, demonstrating that most
          people that claim to be doing Continuous Integration actually are
          not.
<div class = 'meta'>
<p class = 'credits'>by Martin Fowler</p>

<p class = 'date'>18 Jan 2017</p>

<p class = 'more'><a href = '/bliki/ContinuousIntegrationCertification.html'>Read more…</a></p>

<p class = 'type bliki'>bliki</p>

<p class = 'tags'> <span class = 'tag-link'><a href = /tags/certification.html>certification</a></span> <span class = 'tag-link'><a href = /tags/continuous%20delivery.html>continuous delivery</a></span> </p>
</div>
</div>
</div>
</aside>
</section>

<section id = 'build-fast'>
<h3>Keep the Build Fast</h3>

<p>The whole point of Continuous Integration is to provide rapid
        feedback. Nothing sucks the blood of Continuous Integration
        more than a build that takes a long time. Here I must admit a certain
        crotchety old guy amusement at what's considered to be a long build.
        Most of my colleagues consider a build that takes an hour to be totally
        unreasonable. I remember teams dreaming that they could get it so fast -
        and occasionally we still run into cases where it's very hard to get
        builds to that speed.</p>

<p>For most projects, however, the XP guideline of a ten
        minute build is perfectly within reason. Most of our modern
        projects achieve this. It's worth putting in concentrated
        effort to make it happen, because every minute chiseled off
        the build time is a minute saved for each developer every time
        they commit. Since Continuous Integration demands frequent commits, this adds up
        to a lot of the time.</p>

<p>If we're staring at a one hour build time, then getting to
        a faster build may seem like a daunting prospect. It can even
        be daunting to work on a new project and think about how to
        keep things fast. For enterprise applications, at least, we've
        found the usual bottleneck is testing - particularly tests
        that involve external services such as a database.</p>

<p id = 'commit-build'>Probably the most crucial step is to start working
        on setting up a <a href = '/bliki/DeploymentPipeline.html'>Deployment Pipeline</a>. The idea behind a
        <b>deployment pipeline</b> (also known as <b>build
        pipeline</b> or <b>staged build</b>) is that there are in fact
        multiple builds done in sequence. The commit to the mainline triggers
        the first build - what I call the commit build. The <b>commit
        build</b> is the build that's needed when someone pushes commits to the
        mainline. The commit build is the one that has to be done quickly, as a
        result it will take a number of shortcuts that will reduce the ability
        to detect bugs. The trick is to balance the needs of bug finding and
        speed so that a good commit build is stable enough for other people to
        work on.</p>

<aside>
<div class = 'article-card'>
<h3><a href = '/books/continuousDelivery.html'>Continuous Delivery</a></h3>

<div class = 'card-body'>
<p class = 'card-image'><img class = 'book-cover' src = '/books/continuousDelivery.jpg'></img></p>

<p class = 'abstract'>
        The definitive book on Continuous Delivery, which outlines the practices
        needed to bring code into production rapidly and safely. The key aspects
        are collaboration between everyone involved in the release process and
        automating as many aspects of that process as you can. The book goes
        through the foundations of configuration management, automated testing,
        and continuous integration - on which it shows how to build deployment
        pipelines to take integrated, tested code live. The book details the
        delivery ecosystem, managing infrastructure, environments and data. 
      </p>

<div class = 'meta'>
<p class = 'credits'>by Jez Humble and David Farley</p>

<p class = 'date'>2010</p>

<p class = 'more'><a href = '/books/continuousDelivery.html'>Read more…</a></p>

<p class = 'type book'>book</p>

<p class = 'tags'> </p>
</div>
</div>
</div>
</aside>

<p>Once the commit build is good then other people can work on
        the code with confidence. However there are further, slower,
        tests that we can start to do. Additional machines can run
        further testing routines on the build that take longer to
        do.</p>

<p>A simple example of this is a two stage deployment pipeline. The
        first stage would do the compilation and run tests that are more
        localized unit tests with slow services replaced by <a href = '/bliki/TestDouble.html'>Test Doubles</a>, such as a fake in-memory database or
        a stub for an external service. Such
        tests can run very fast, keeping within the ten minute guideline.
        However any bugs that involve larger scale interactions, particularly
        those involving the real database, won't be found. The second stage
        build runs a different suite of tests that do hit a real database and
        involve more end-to-end behavior. This suite might take a couple of
        hours to run.</p>

<p>In this scenario people use the first stage as the commit build and
        use this as their main CI cycle.
        If the secondary build fails, then this may not have
        the same 'stop everything' quality, but the team does aim to fix such
        bugs as rapidly as possible, while keeping the commit build running.
        Since the secondary build may be much slower, it may not run after every
        commit. In that case it runs as often as it can, picking the last good
        build from the commit stage.</p>

<p>If the secondary build detects a bug, that's a sign that the commit
        build could do with another test. As much as possible we want to ensure
        that any later-stage failure leads to new tests in the commit build that
        would have caught the bug, so the bug stays fixed in the commit build.
        This way the commit tests are strengthened whenever something gets past
        them. There are cases where there's no way to build a fast-running test
        that exposes the bug, so we may decide to only test for that condition
        in the secondary build. Most of the time, fortunately, we can add suitable
        tests to the commit build.</p>

<p>Another way to speed things up is to use parallelism and multiple
        machines. Cloud environments, in particular, allow teams to easily spin
        up a small fleet of servers for builds. Providing the tests can run
        reasonably independently, which well-written tests can, then using such
        a fleet can get very rapid build times. Such parallel cloud builds may
        also be worthwhile to a developer's pre-integration build too.</p>

<p>While we're considering the broader build process, it's worth
        mentioning another category of automation, interaction with
        dependencies. Most software uses a large range of dependent software
        produced by different organizations. Changes in these dependencies can
        cause breakages in the product. A team should thus automatically check
        for new versions of dependencies and integrate them into the build,
        essentially as if they were another team member. This should be done
        frequently, usually at least daily, depending on the rate of change of
        the dependencies. A similar approach should be used with running
        <a href = '/bliki/ContractTest.html'>Contract Tests</a>. If these dependency
        interactions go red, they don't have the same &#x201C;stop the line&#x201D; effect as
        regular build failures, but do require prompt action by the team to
        investigate and fix.</p>
</section>

<section id = 'HideWork-in-progress'>
<h3>Hide Work-in-Progress</h3>

<p>Continuous Integration means integrating as soon as there is a little
        forward progress and the build is healthy. Frequently this suggests
        integrating before a user-visible feature is fully formed and ready for
        release. We thus need to consider how to deal with latent code: code
        that's part of an unfinished feature that's present in a live
        release.</p>

<p>Some people worry about latent code, because it's putting
        non-production quality code into the released executable. Teams doing
        Continuous Integration ensure that all code sent to the mainline is
        production quality, together with the tests that
        verify the code. Latent code may never be executed in
        production, but that doesn't stop it from being exercised in tests.</p>

<p>We can prevent the code being executed in production by using a
        <a href = '/bliki/KeystoneInterface.html'>Keystone Interface</a> - ensuring the interface that
        provides a path to the new feature is the last thing we add to the code
        base. Tests can still check the code at all levels other than that final
        interface. In a well-designed system, such interface elements should be
        minimal and thus simple to add with a short programming episode.</p>

<p>Using <a href = '/bliki/DarkLaunching.html'>Dark Launching</a> we can test some changes in
        production before we make them visible to the user. This technique is
        useful for assessing the impact on performance,</p>

<p>Keystones cover most cases of latent code, but for occasions where
        that's not possible we use <a href = '/bliki/FeatureFlag.html'>Feature Flags</a>.
        Feature flags are checked whenever we are about to execute latent code,
        they are set as part of the environment, perhaps in an
        environment-specific configuration file. That way the latent code can be
        active for testing, but disabled in production. As well as enabling
        Continuous Integration, feature flags also make it easier for runtime
        switching for A/B testing and <a href = '/bliki/CanaryRelease.html'>Canary Releases</a>. We then make sure we remove this logic promptly once a
        feature is fully released, so that the flags don't clutter the code
        base.</p>

<p><a href = '/bliki/BranchByAbstraction.html'>Branch By Abstraction</a> is another technique for
        managing latent code, which is particularly useful for large
        infrastructural changes within a code base. Essentially this creates an
        internal interface to the modules that are being  changed. The interface
        can then route between old and new logic, gradually replacing execution
        paths over time. We've seen this done to switch such pervasive elements
        as changing the persistence platform.</p>

<p>When introducing a new feature, we should always ensure that we can
        rollback in case of problems. <a href = '/bliki/ParallelChange.html'>Parallel Change</a> (aka
        expand-contract) breaks a change into reversible steps. For example, if
        we rename a database field, we first create a new field with the new
        name, then write to both old and new fields, then copy data from the
        exisitng old fields, then read from the new field, and only then remove
        the old field. We can reverse any of these steps, which would not be
        possible if we made such a change all at once. Teams using Continuous
        Integration often look to break up changes in this way, keeping changes
        small and easy to undo.</p>
</section>

<section id = 'TestInACloneOfTheProductionEnvironment'>
<h3>Test in a Clone of the Production Environment</h3>

<aside>
<div class = 'article-card'>
<h3><a href = '/bliki/InfrastructureAsCode.html'>Infrastructure As Code</a></h3>

<div class = 'card-body'>
<p class = 'card-image'><img src = 'https://martinfowler.com/bliki/images/infrastructureAsCode/card.png'></img></p>

<p>Infrastructure as code is the approach to defining computing and network
  infrastructure through source code that can then be treated just like any software
  system. Such code can be kept in source control to allow auditability and
  <a href = '/bliki/ReproducibleBuild.html'>ReproducibleBuilds</a>, subject to testing practices, and the full discipline of
  <a href = '/bliki/ContinuousDelivery.html'>ContinuousDelivery</a>. It's an approach that's been used over the last decade to
  deal with growing <a href = '/bliki/CloudComputing.html'>CloudComputing</a> platforms and will become the dominant way
  to handle computing infrastructure in the next.</p>

<div class = 'meta'>
<p class = 'credits'>by Martin Fowler</p>

<p class = 'date'>1 Mar 2016</p>

<p class = 'more'><a href = '/bliki/InfrastructureAsCode.html'>Read more…</a></p>

<p class = 'type bliki'>bliki</p>

<p class = 'tags'> <span class = 'tag-link'><a href = /tags/continuous%20delivery.html>continuous delivery</a></span> <span class = 'tag-link'><a href = /tags/microservices.html>microservices</a></span> </p>
</div>
</div>
</div>
</aside>

<p>The point of testing is to flush out, under controlled
        conditions, any problem that the system will have in
        production. A significant part of this is the environment
        within which the production system will run. If we test in a
        different environment, every difference results in a risk that
        what happens under test won't happen in production.</p>

<p>Consequently, we want to set up our test environment to be
        as exact a mimic of our production environment as
        possible. Use the same database software, with the same
        versions, use the same version of the operating system. Put all
        the appropriate libraries that are in the production
        environment into the test environment, even if the system
        doesn't actually use them. Use the same IP addresses and
        ports, run it on the same hardware.</p>

<p>Virtual environments make it much easier than it was in the past to
        do this. We run production software in containers, and reliably build
        exactly the same containers for testing, even in a developer's
        workspace. It's worth the effort and cost to do this, the price is
        usually small compared to hunting down a single bug that crawled out of
        the hole created by environment mismatches.</p>

<p>Some software is designed to run in multiple environments, such as
        different operating systems and platform versions. The deployment
        pipeline should arrange for testing in all of these environments in
        parallel.</p>

<p>A point to take care of is when the production environment isn't as
        good as the development environment. Will the production software be
        running on machines connected with dodgy wifi, like smartphones? Then ensure a test
        environment mimics poor network connections. </p>
</section>

<section id = 'EveryoneCanSeeWhatsHappening'>
<h3>Everyone can see what's happening</h3>

<p>Continuous Integration is all about communication, so we
        want to ensure that everyone can easily see the state of the
        system and the changes that have been made to it.</p>

<p>One of the most important things to communicate is the
        state of the mainline build. CI Services have dashboards that allow
        everyone to see the state of any builds they are running. Often they
        link with other tools to broadcast build information to internal social
        media tools such as Slack. IDEs often have hooks into these mechanisms,
        so developers can be alerted while still inside the tool they are using
        for much of their work. Many teams only send out notifications for build
        failures, but I think it's worth sending out messages on success too.
        That way people get used to the regular signals and get a sense for the
        length of the build. Not to mention the fact that it's nice to get a
        &#x201C;well done&#x201D; every day, even if it's only from a CI server.</p>

<p>Teams that share a physical space often have some kind of always-on
        physical display for the build. Usually this takes the form of a large
        screen showing a simplified dashboard. This is particularly valuable to
        alert everyone to a broken build, often using the red/green colors on
        the mainline commit build.</p>

<p class = 'p-sub'>One of the older physical displays I rather liked were the use of red
        and green lava lamps. One of the features of a lava lamp is that after
        they are turned on for a while they start to bubble. The idea was that
        if the red lamp came on, the team should fix the build before it starts
        to bubble. Physical displays for build status often got playful, adding
        some quirky personality to a team's workspace. I have fond memories of a
        dancing rabbit.</p>

<p>As well as the current state of the build, these displays can show
        useful information about recent history, which can be an indicator of
        project health. Back at the turn of the century I worked with a team who
        had a history of being unable to create stable builds. We put a calendar
        on the wall that showed a full year with a small square for each day.
        Every day the QA group would put a green sticker on the day if they had
        received one stable build that passed the commit tests, otherwise a red
        square. Over time the calendar revealed the state of the build process
        showing a steady improvement until green squares were so common that the
        calendar disappeared - its purpose fulfilled.</p>
</section>

<section id = 'AutomateDeployment'>
<h3>Automate Deployment</h3>

<p>To do Continuous Integration we need multiple environments, one to
        run commit tests, probably more to run further parts of the deployment
        pipeline. Since we are moving executables between these environments
        multiple times a day, we'll want to do this automatically. So it's
        important to have scripts that will allow us to deploy the application
        into any environment easily.</p>

<aside>
<div class = 'article-card'>
<h3><a href = '/articles/evodb.html'>Evolutionary Database Design</a></h3>

<div class = 'card-body'>
<p class = 'card-image'><img src = 'https://martinfowler.com/articles/evodb/card.png'></img></p>

<p class = 'abstract'>Over the last decade we've developed and refined a number of techniques that
  allow a database design to evolve as an application develops. This is a very important
  capability for agile methodologies. The techniques rely on applying continuous
  integration and automated refactoring to database development, together with a close
  collaboration between DBAs and application developers. The techniques work in both
  pre-production and released systems, in green field projects as well as legacy
  systems.</p>

<div class = 'meta'>
<p class = 'credits'>by Pramod Sadalage and Martin Fowler</p>

<p class = 'date'>May 2016</p>

<p class = 'more'><a href = '/articles/evodb.html'>Read more…</a></p>

<p class = 'type article'>article</p>

<p class = 'tags'> <span class = 'tag-link'><a href = /tags/agile.html>agile</a></span> <span class = 'tag-link'><a href = /tags/refactoring.html>refactoring</a></span> <span class = 'tag-link'><a href = /tags/application%20architecture.html>application architecture</a></span> <span class = 'tag-link'><a href = /tags/database.html>database</a></span> <span class = 'tag-link'><a href = /tags/evolutionary%20design.html>evolutionary design</a></span> </p>
</div>
</div>
</div>
</aside>

<p>With modern tools for virtualization, containerization, and serverless we can go
        further. Not just have scripts to deploy the product, but also scripts
        to build the required environment from scratch. This way we can start
        with a bare-bones environment that's available off-the-shelf, create the
        environment we need for the product to run, install the product, and run
        it - all entirely automatically. If we're using feature flags to hide
        work-in-progress, then these environments can be set up with all the
        feature-flags on, so these features can be tested with all immanent interactions.</p>

<p>A natural consequence of this is that these same scripts allow us to
        deploy into production with similar ease. Many teams deploy new code
        into production multiple times a day using these automations, but even
        if we choose a less frequent cadence, automatic deployment helps speed
        up the process and reduces errors. It's also a cheap option since it
        just uses the same capabilities that we use to deploy into test
        environments.</p>

<p>If we deploy into production automatically, one extra capability we find
        handy is automated rollback. Bad things do happen from time to time, and
        if smelly brown substances hit rotating metal, it's good to be able to
        quickly go back to the last known good state. Being able to
        automatically revert also reduces a lot of the tension of deployment,
        encouraging people to deploy more frequently and thus get new features
        out to users quickly. <a href = '/bliki/BlueGreenDeployment.html'>Blue Green Deployment</a> allows us
        to both make new versions live quickly, and to roll back equally quickly
        if needed, by shifting traffic between deployed versions.</p>

<p>Automated Deployment make it easier to set up <a href = '/bliki/CanaryRelease.html'>Canary Releases</a>, deploying a new version of a
        product to a subset of our users in order to flush out problems before
        releasing to the full population.</p>

<p>Mobile applications are good examples of where it's essential to
        automate deployment into test environments, in this case onto devices so
        that a new version can be explored before invoking the guardians of the
        App Store. Indeed any device-bound software needs ways to easily get new
        versions on to test devices.</p>

<p>When deploying software like this, remember to ensure that version
        information is visible. An about screen should contain a build id that
        ties back to version control, logs should make it easy to see which version
        of the software is running, there should be some API endpoint that will
        give version information.</p>
</section>
</section>

<section id = 'StylesOfIntegration'>
<h2>Styles of Integration</h2>

<p>Thus far, I've described one way to approach integration, but if it's
      not universal, then there must be other ways. As with anything, any
      classification I give has fuzzy boundaries, but I find it useful to think
      of three styles of handling integration: Pre-Release Integration, Feature
      Branches, and Continuous Integration.</p>

<p>The oldest is the one I saw in that warehouse in the 80's -
      <b>Pre-Release Integration</b>. This sees integration as a phase of
      a software project, a notion that is a natural part of a  <a href = '/bliki/WaterfallProcess.html'>Waterfall Process</a>. In such a project work is divided into
      units, which may be done by individuals or small teams. Each unit is
      a portion of the software, with minimal interaction with other
      units. These units are built and tested on their own (the original use of
      the term &#x201C;unit test&#x201D;). Then once the units are ready, we integrate them
      into the final product. This integration occurs once, and is followed by
      integration testing, and on to a release. Thus if we think of the work, we
      see two phases, one where everyone works in parallel on features,
      followed by a single stream of effort at integration.</p>

<div class = 'figure ' id = 'img-gen_pri_style.svg'>
<svg class = '' id = '' version = '1.1' viewBox = '0 0 900 350' xmlns = 'http://www.w3.org/2000/svg'>
<style>svg {font-family: sans-serif; font-size: 24px; line-height: 1.2}
.explain {color: #ef5ba1; font-style: italic}
path.explain {stroke: #ef5ba1}

.integrate {fill: red; stroke: red; color: red}
.feature {fill: grey; stroke: grey}
.completion {stroke: black; stroke-width: 2}</style>

<g transform = 'translate(0,100)'>
<g>
<rect class = 'feature' height = '20' width = '481' x = '0' y = '10'></rect>
</g>

<g>
<rect class = 'feature' height = '20' width = '481' x = '0' y = '60'></rect>
</g>

<g>
<rect class = 'feature' height = '20' width = '481' x = '0' y = '110'></rect>
</g>

<g>
<rect class = 'feature' height = '20' width = '481' x = '0' y = '160'></rect>
</g>

<g>
<rect class = 'feature' height = '20' width = '481' x = '0' y = '210'></rect>
</g>

<g>
<line class = 'completion' x1 = '821' x2 = '821' y1 = '125.0' y2 = '165.0'></line>

<rect class = 'integrate' height = '20' width = '337' x = '485' y = '135.0'></rect>
</g>
</g>

<foreignObject class = 'explain' height = '36' width = '200' x = '30' y = '5'>
<div xmlns = 'http://www.w3.org/1999/xhtml'>work on features</div>
</foreignObject>

<g>
<path class = 'explain' d = 'M 130 50 L 170 100'></path>
</g>

<foreignObject class = 'explain' height = '36' width = '300' x = '500' y = '50'>
<div xmlns = 'http://www.w3.org/1999/xhtml'>work on integration</div>
</foreignObject>

<g>
<path class = 'explain' d = 'M 630 100 L 670 220'></path>
</g>
</svg>

<p class = 'photoCaption'></p>
</div>

<div class = 'clear'></div>

<p>The frequency of integration in
      this style is tied to the frequency of release, usually major versions of
      the software, usually measured in months or years. These teams will use a
      different process for urgent bug fixes, so they can be released
      separately to the regular integration schedule.</p>

<p>One of the most popular approaches to integration these days is to use
      <b><a href = '/bliki/FeatureBranch.html'>Feature Branches</a></b>. In this style
      features are assigned to individuals or small teams, much as units in the
      older approach. However, instead of waiting until all the units are done
      before integrating, developers integrate their feature into the mainline
      as soon as it's done. Some teams will release to production after each
      feature integration, others prefer to batch up a few features for
      release.</p>

<p>Teams using feature branches will usually expect everyone to pull from
      mainline regularly, but this is semi-integration. If Rebecca and I
      are working on separate features, we might pull from mainline every day,
      but we don't see each other's changes until one of us completes our
      feature and integrates, pushing it to the mainline. Then the other will
      see that code on their next pull, integrating it into their working copy.
      Thus after each feature is pushed to mainline, every other developer will
      then do integration work to combine this latest mainline push with
      their own feature branch.</p>

<div class = 'figure ' id = 'img-gen_fb_style.svg'>
<svg class = '' id = '' version = '1.1' viewBox = '0 0 900 350' xmlns = 'http://www.w3.org/2000/svg'>
<style>svg {font-family: sans-serif; font-size: 24px; line-height: 1.2}
.explain {color: #ef5ba1; font-style: italic}
path.explain {stroke: #ef5ba1}

.integrate {fill: red; stroke: red; color: red}
.feature {fill: grey; stroke: grey}
.completion {stroke: black; stroke-width: 2}</style>

<g transform = 'translate(0,100)'>
<g>
<line class = 'completion' x1 = '144' x2 = '144' y1 = '0' y2 = '40'></line>

<line class = 'completion' x1 = '416' x2 = '416' y1 = '0' y2 = '40'></line>

<line class = 'completion' x1 = '624' x2 = '624' y1 = '0' y2 = '40'></line>

<rect class = 'feature' height = '20' width = '16' x = '0' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '16' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '32' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '48' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '64' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '80' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '96' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '16' x = '112' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '128' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '144' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '160' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '176' y = '10'></rect>

<rect class = 'feature' height = '20' width = '8' x = '184' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '192' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '208' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '224' y = '10'></rect>

<rect class = 'feature' height = '20' width = '8' x = '232' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '240' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '256' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '272' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '288' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '304' y = '10'></rect>

<rect class = 'feature' height = '20' width = '8' x = '312' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '320' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '336' y = '10'></rect>

<rect class = 'feature' height = '20' width = '8' x = '344' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '352' y = '10'></rect>

<rect class = 'feature' height = '20' width = '8' x = '360' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '368' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '384' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '400' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '416' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '432' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '448' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '464' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '480' y = '10'></rect>

<rect class = 'feature' height = '20' width = '8' x = '488' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '496' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '512' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '528' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '16' x = '544' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '560' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '576' y = '10'></rect>

<rect class = 'feature' height = '20' width = '8' x = '584' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '592' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '608' y = '10'></rect>
</g>

<g>
<line class = 'completion' x1 = '112' x2 = '112' y1 = '50' y2 = '90'></line>

<line class = 'completion' x1 = '304' x2 = '304' y1 = '50' y2 = '90'></line>

<line class = 'completion' x1 = '576' x2 = '576' y1 = '50' y2 = '90'></line>

<rect class = 'feature' height = '20' width = '16' x = '0' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '16' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '32' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '48' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '64' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '80' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '96' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '112' y = '60'></rect>

<rect class = 'feature' height = '20' width = '8' x = '120' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '128' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '144' y = '60'></rect>

<rect class = 'feature' height = '20' width = '8' x = '152' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '160' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '176' y = '60'></rect>

<rect class = 'feature' height = '20' width = '8' x = '184' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '192' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '208' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '224' y = '60'></rect>

<rect class = 'feature' height = '20' width = '8' x = '232' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '240' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '256' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '272' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '288' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '304' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '320' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '336' y = '60'></rect>

<rect class = 'feature' height = '20' width = '8' x = '344' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '352' y = '60'></rect>

<rect class = 'feature' height = '20' width = '8' x = '360' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '368' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '384' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '400' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '416' y = '60'></rect>

<rect class = 'feature' height = '20' width = '8' x = '424' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '432' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '448' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '464' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '480' y = '60'></rect>

<rect class = 'feature' height = '20' width = '8' x = '488' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '496' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '512' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '528' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '16' x = '544' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '560' y = '60'></rect>
</g>

<g>
<line class = 'completion' x1 = '112' x2 = '112' y1 = '100' y2 = '140'></line>

<line class = 'completion' x1 = '336' x2 = '336' y1 = '100' y2 = '140'></line>

<line class = 'completion' x1 = '544' x2 = '544' y1 = '100' y2 = '140'></line>

<rect class = 'feature' height = '20' width = '16' x = '0' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '16' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '32' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '48' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '64' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '80' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '96' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '112' y = '110'></rect>

<rect class = 'feature' height = '20' width = '8' x = '120' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '128' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '144' y = '110'></rect>

<rect class = 'feature' height = '20' width = '8' x = '152' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '160' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '176' y = '110'></rect>

<rect class = 'feature' height = '20' width = '8' x = '184' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '192' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '208' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '224' y = '110'></rect>

<rect class = 'feature' height = '20' width = '8' x = '232' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '240' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '256' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '272' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '288' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '304' y = '110'></rect>

<rect class = 'feature' height = '20' width = '8' x = '312' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '320' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '336' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '352' y = '110'></rect>

<rect class = 'feature' height = '20' width = '8' x = '360' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '368' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '384' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '400' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '416' y = '110'></rect>

<rect class = 'feature' height = '20' width = '8' x = '424' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '432' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '448' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '464' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '480' y = '110'></rect>

<rect class = 'feature' height = '20' width = '8' x = '488' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '496' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '512' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '528' y = '110'></rect>
</g>

<g>
<line class = 'completion' x1 = '176' x2 = '176' y1 = '150' y2 = '190'></line>

<line class = 'completion' x1 = '352' x2 = '352' y1 = '150' y2 = '190'></line>

<line class = 'completion' x1 = '544' x2 = '544' y1 = '150' y2 = '190'></line>

<rect class = 'feature' height = '20' width = '16' x = '0' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '16' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '32' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '48' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '64' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '80' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '96' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '16' x = '112' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '128' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '144' y = '160'></rect>

<rect class = 'feature' height = '20' width = '8' x = '152' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '160' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '176' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '192' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '208' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '224' y = '160'></rect>

<rect class = 'feature' height = '20' width = '8' x = '232' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '240' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '256' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '272' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '288' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '304' y = '160'></rect>

<rect class = 'feature' height = '20' width = '8' x = '312' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '320' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '336' y = '160'></rect>

<rect class = 'feature' height = '20' width = '8' x = '344' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '352' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '368' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '384' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '400' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '416' y = '160'></rect>

<rect class = 'feature' height = '20' width = '8' x = '424' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '432' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '448' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '464' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '480' y = '160'></rect>

<rect class = 'feature' height = '20' width = '8' x = '488' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '496' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '512' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '528' y = '160'></rect>
</g>

<g>
<line class = 'completion' x1 = '224' x2 = '224' y1 = '200' y2 = '240'></line>

<line class = 'completion' x1 = '480' x2 = '480' y1 = '200' y2 = '240'></line>

<line class = 'completion' x1 = '640' x2 = '640' y1 = '200' y2 = '240'></line>

<rect class = 'feature' height = '20' width = '16' x = '0' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '16' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '32' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '48' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '64' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '80' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '96' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '16' x = '112' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '128' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '144' y = '210'></rect>

<rect class = 'feature' height = '20' width = '8' x = '152' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '160' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '176' y = '210'></rect>

<rect class = 'feature' height = '20' width = '8' x = '184' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '192' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '208' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '224' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '240' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '256' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '272' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '288' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '304' y = '210'></rect>

<rect class = 'feature' height = '20' width = '8' x = '312' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '320' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '336' y = '210'></rect>

<rect class = 'feature' height = '20' width = '8' x = '344' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '352' y = '210'></rect>

<rect class = 'feature' height = '20' width = '8' x = '360' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '368' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '384' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '400' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '416' y = '210'></rect>

<rect class = 'feature' height = '20' width = '8' x = '424' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '432' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '448' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '464' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '480' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '496' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '512' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '528' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '16' x = '544' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '560' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '576' y = '210'></rect>

<rect class = 'feature' height = '20' width = '8' x = '584' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '592' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '608' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '8' x = '624' y = '210'></rect>

<rect class = 'feature' height = '20' width = '8' x = '632' y = '210'></rect>
</g>
</g>

<foreignObject class = 'explain' height = '90' width = '300' x = '30' y = '5'>
<div xmlns = 'http://www.w3.org/1999/xhtml'>when a developer completes a feature...</div>
</foreignObject>

<g>
<path class = 'explain' d = 'M 110 65 L 143 95'></path>
</g>

<foreignObject class = 'explain' height = '60' width = '300' x = '300' y = '25'>
<div xmlns = 'http://www.w3.org/1999/xhtml'>…all others need to integrate</div>
</foreignObject>

<g>
<path class = 'explain' d = 'M 295 75 L 150 170'></path>
</g>

<g>
<path class = 'explain' d = 'M 295 75 L 150 220'></path>
</g>

<g>
<path class = 'explain' d = 'M 295 75 L 150 270'></path>
</g>

<g>
<path class = 'explain' d = 'M 295 75 L 150 320'></path>
</g>
</svg>

<p class = 'photoCaption'></p>
</div>

<div class = 'clear'></div>

<p>This is only semi-integration because each developer combines the
      changes on mainline to their own local branch. Full integration can't
      happen until a developer pushes their changes, causing another round of
      semi-integrations. Even if Rebecca and I both pull the same changes from
      mainline, we've only integrated with those changes, not with each other's
      branches.</p>

<p>With <b>Continuous Integration</b>, every day we are all pushing our changes
      to the mainline and pulling everyone else's changes into our own work.
      This leads to many more bouts of integration work, but each bout is much
      smaller. It's much easier to combine a few hours work on a code base than
      to combine several days.</p>

<div class = 'figure ' id = 'img-gen_ci_style.svg'>
<svg class = '' id = '' version = '1.1' viewBox = '0 0 900 250' xmlns = 'http://www.w3.org/2000/svg'>
<style>svg {font-family: sans-serif; font-size: 24px; line-height: 1.2}
.explain {color: #ef5ba1; font-style: italic}
path.explain {stroke: #ef5ba1}

.integrate {fill: red; stroke: red; color: red}
.feature {fill: grey; stroke: grey}
.completion {stroke: black; stroke-width: 2}</style>

<g>
<line class = 'completion' x1 = '136' x2 = '136' y1 = '0' y2 = '40'></line>

<line class = 'completion' x1 = '357' x2 = '357' y1 = '0' y2 = '40'></line>

<line class = 'completion' x1 = '544' x2 = '544' y1 = '0' y2 = '40'></line>

<rect class = 'feature' height = '20' width = '16' x = '0' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '16' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '17' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '33' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '34' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '50' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '51' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '67' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '68' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '84' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '85' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '101' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '102' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '118' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '119' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '135' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '136' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '152' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '153' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '169' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '170' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '186' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '187' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '203' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '204' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '220' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '221' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '237' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '238' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '254' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '255' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '271' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '272' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '288' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '289' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '305' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '306' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '322' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '323' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '339' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '340' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '356' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '357' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '373' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '374' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '390' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '391' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '407' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '408' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '424' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '425' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '441' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '442' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '458' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '459' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '475' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '476' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '492' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '493' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '509' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '510' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '526' y = '10'></rect>

<rect class = 'feature' height = '20' width = '16' x = '527' y = '10'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '543' y = '10'></rect>
</g>

<g>
<line class = 'completion' x1 = '119' x2 = '119' y1 = '50' y2 = '90'></line>

<line class = 'completion' x1 = '272' x2 = '272' y1 = '50' y2 = '90'></line>

<line class = 'completion' x1 = '510' x2 = '510' y1 = '50' y2 = '90'></line>

<rect class = 'feature' height = '20' width = '16' x = '0' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '16' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '17' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '33' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '34' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '50' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '51' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '67' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '68' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '84' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '85' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '101' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '102' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '118' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '119' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '135' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '136' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '152' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '153' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '169' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '170' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '186' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '187' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '203' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '204' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '220' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '221' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '237' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '238' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '254' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '255' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '271' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '272' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '288' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '289' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '305' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '306' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '322' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '323' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '339' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '340' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '356' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '357' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '373' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '374' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '390' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '391' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '407' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '408' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '424' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '425' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '441' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '442' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '458' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '459' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '475' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '476' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '492' y = '60'></rect>

<rect class = 'feature' height = '20' width = '16' x = '493' y = '60'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '509' y = '60'></rect>
</g>

<g>
<line class = 'completion' x1 = '119' x2 = '119' y1 = '100' y2 = '140'></line>

<line class = 'completion' x1 = '289' x2 = '289' y1 = '100' y2 = '140'></line>

<line class = 'completion' x1 = '493' x2 = '493' y1 = '100' y2 = '140'></line>

<rect class = 'feature' height = '20' width = '16' x = '0' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '16' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '17' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '33' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '34' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '50' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '51' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '67' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '68' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '84' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '85' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '101' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '102' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '118' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '119' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '135' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '136' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '152' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '153' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '169' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '170' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '186' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '187' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '203' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '204' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '220' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '221' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '237' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '238' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '254' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '255' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '271' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '272' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '288' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '289' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '305' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '306' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '322' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '323' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '339' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '340' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '356' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '357' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '373' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '374' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '390' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '391' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '407' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '408' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '424' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '425' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '441' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '442' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '458' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '459' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '475' y = '110'></rect>

<rect class = 'feature' height = '20' width = '16' x = '476' y = '110'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '492' y = '110'></rect>
</g>

<g>
<line class = 'completion' x1 = '153' x2 = '153' y1 = '150' y2 = '190'></line>

<line class = 'completion' x1 = '306' x2 = '306' y1 = '150' y2 = '190'></line>

<line class = 'completion' x1 = '493' x2 = '493' y1 = '150' y2 = '190'></line>

<rect class = 'feature' height = '20' width = '16' x = '0' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '16' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '17' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '33' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '34' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '50' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '51' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '67' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '68' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '84' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '85' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '101' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '102' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '118' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '119' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '135' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '136' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '152' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '153' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '169' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '170' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '186' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '187' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '203' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '204' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '220' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '221' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '237' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '238' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '254' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '255' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '271' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '272' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '288' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '289' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '305' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '306' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '322' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '323' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '339' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '340' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '356' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '357' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '373' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '374' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '390' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '391' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '407' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '408' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '424' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '425' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '441' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '442' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '458' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '459' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '475' y = '160'></rect>

<rect class = 'feature' height = '20' width = '16' x = '476' y = '160'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '492' y = '160'></rect>
</g>

<g>
<line class = 'completion' x1 = '204' x2 = '204' y1 = '200' y2 = '240'></line>

<line class = 'completion' x1 = '425' x2 = '425' y1 = '200' y2 = '240'></line>

<line class = 'completion' x1 = '544' x2 = '544' y1 = '200' y2 = '240'></line>

<rect class = 'feature' height = '20' width = '16' x = '0' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '16' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '17' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '33' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '34' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '50' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '51' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '67' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '68' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '84' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '85' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '101' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '102' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '118' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '119' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '135' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '136' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '152' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '153' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '169' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '170' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '186' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '187' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '203' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '204' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '220' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '221' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '237' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '238' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '254' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '255' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '271' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '272' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '288' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '289' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '305' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '306' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '322' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '323' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '339' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '340' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '356' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '357' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '373' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '374' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '390' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '391' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '407' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '408' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '424' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '425' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '441' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '442' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '458' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '459' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '475' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '476' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '492' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '493' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '509' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '510' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '526' y = '210'></rect>

<rect class = 'feature' height = '20' width = '16' x = '527' y = '210'></rect>

<rect class = 'integrate' height = '20' width = '1.5' x = '543' y = '210'></rect>
</g>
</svg>

<p class = 'photoCaption'></p>
</div>

<div class = 'clear'></div>
</section>

<section id = 'BenefitsOfContinuousIntegration'>
<h2>Benefits of Continuous Integration</h2>

<p>When discussing the relative merits of the three styles of integration,
      most of the discussion is truly about the <a href = '/articles/branching-patterns.html#integration-frequency'>frequency of integration</a>. Both Pre-Release
      Integration and Feature Branching can operate at different frequencies and
      it's possible to change integration frequency without changing the style
      of integration. If we're using Pre-Release Integration, there's a big
      difference between monthly releases and annual releases. Feature Branching
      usually works at a higher frequency, because integration occurs when each
      feature is individually pushed to mainline, as opposed to waiting to batch
      a bunch of units together. If a team is doing Feature Branching and all
      its features are less than a day's work to build, then they are
      effectively the same as Continuous Integration. But Continuous Integration
      is different in that it's <i>defined</i> as a high-frequency style.
      Continuous Integration makes a point of setting integration frequency as a
      target in itself, and not binding it to feature completion or release
      frequency.</p>

<p>It thus follows that most teams can see a useful improvement in the
      factors I'll discuss below by increasing their frequency without changing
      their style. There are significant benefits to reducing the size of
      features from two months to two weeks. Continuous Integration has the
      advantage of setting high-frequency integration as the baseline, setting
      habits and practices that make it sustainable.</p>

<section id = 'ReducedRiskOfDeliveryDelays'>
<h3>Reduced risk of delivery delays</h3>

<p>It's very hard to estimate how long it takes to do a complex
        integration. Sometimes it can be a struggle to merge in git, but then
        all works well. Other times it can be a quick merge, but a subtle
        integration bug takes days to find and fix. The longer the time between
        integrations, the more code to integrate, the longer it takes - but
        what's worse is the increase in unpredictability.</p>

<p>This all makes pre-release integration a special form of nightmare.
        Because the integration is one of the last steps before release, time is
        already tight and the pressure is on. Having a hard-to-predict phase
        late in the day means we have a significant risk that's very difficult
        to mitigate. That was why my 80's memory is so strong, and it's hardly the
        only time I've seen projects stuck in an integration hell, where every
        time they fix an integration bug, two more pop up.</p>

<p>Any steps to increase integration frequency lowers this risk. The
        less integration there is to do, the less unknown time there is before a
        new release is ready. Feature Branching helps by pushing this
        integration work to individual feature streams, so that, if left alone,
        a stream can push to mainline as soon as the feature is ready.</p>

<p>But that <i>left alone</i> point is important. If anyone else pushes
        to mainline, then we introduce some integration work before the feature
        is done. Because the branches are isolated, a developer working on one
        branch doesn't have much visibility about what other features may push,
        and how much work would be involved to integrate them. While there is a
        danger that high priority features can face integration delays, we can
        manage this by preventing pushes of lower-priority features.</p>

<p>Continuous Integration effectively eliminates delivery risk. The
        integrations are so small that they usually proceed without comment. An
        awkward integration would be one that takes more than a few minutes to
        resolve. The very worst case would be conflict that causes someone to
        restart their work from scratch, but that would still be less than a
        day's work to lose, and is thus not going to be something that's likely
        to trouble a board of stakeholders. Furthermore we're doing integration
        regularly as we develop the software, so we can face problems while we
        have more time to deal with them and can practice how to resolve
        them.</p>

<p>Even if a team isn't releasing to production regularly, Continuous
        Integration is important because it allows everyone to see exactly what
        the state of the product is. There's no hidden integration efforts that
        need to be done before release, any effort in integration is already
        baked in.</p>
</section>

<section id = 'LessTimeWastedInIntegration'>
<h3>Less time wasted in integration</h3>

<p>I've not seen any serious studies that measure how time spent on
        integration matches the size of integrations, but my anecdotal
        evidence strongly suggests that the relationship isn't linear. If
        there's twice as much code to integrate, it's more likely to be four
        times as long to carry out the integration. It's rather like how we need
        three lines to fully connect three nodes, but six lines to connect four
        of them. Integration is all about connections, hence the non-linear
        increase, one that's reflected in the experience of my colleagues.</p>

<p>In organizations that are using feature branches, much of this lost
        time is felt by the individual. Several hours spent trying to rebase on
        a big change to mainline is frustrating. A few days spent waiting for a
        code review on a finished pull request, which another big mainline
        change during the waiting period is even more frustrating. Having to put
        work on a new feature aside to debug a problem found in an integration
        test of feature finished two weeks ago saps productivity.</p>

<p>When we're doing Continuous Integration, integration is generally a
        non-event. I pull down the mainline, run the build, and push. If 
        there is a conflict, the small amount of code I've written is fresh in
        my mind, so it's usually easy to see. The workflow is regular, so we're
        practiced at it, and we're incentives to automate it as much as
        possible.</p>

<p>Like many of these non-linear effects, integration can easily become
        a trap where people learn the wrong lesson. A difficult integration may
        be so traumatic that a team decides it should do integrations less
        often, which only exacerbates the problem in the future.</p>

<p>What's happening here is that we are seeing much closer collaboration
        between the members of the team. Should two developers make decisions
        that conflict, we find out when we integrate. So the less time
        between integrations, the <a href = '/articles/branching-patterns.html#compare-freq'>less time before we detect the conflict</a>, and
        we can deal with the conflict before it grows too big. With high-frequency
        integration, our source control system becomes a communication channel,
        one that can communicate things that can otherwise be unsaid.</p>
</section>

<section id = 'LessBugs'>
<h3>Less Bugs</h3>

<p>Bugs - these are the nasty things that destroy confidence and mess up
        schedules and reputations. Bugs in deployed software make users angry
        with us. Bugs cropping up during regular development get in our way,
        making it harder to get the rest of the software working correctly.</p>

<p>Continuous Integration doesn't get rid of bugs, but it does make them
        dramatically easier to find and remove. This is less because of the
        high-frequency integration and more due to the essential introduction of
        self-testing code. Continuous Integration doesn't work without
        self-testing code because without decent tests, we can't keep a healthy
        mainline. Continuous Integration thus institutes a regular regimen of
        testing. If the tests are inadequate, the team will quickly notice, and
        can take corrective action. If a bug appears due to a semantic conflict,
        it's easy to detect because there's only a small amount of code to be
        integrated. Frequent integrations also work well with <a href = '/bliki/DiffDebugging.html'>Diff Debugging</a>, so even a bug noticed weeks later can be
        narrowed down to a small change.</p>

<p>Bugs are also cumulative. The
        more bugs we have, the harder it is to remove each one. This is partly
        because we get bug interactions, where failures show as the result of
        multiple faults - making each fault harder to find. It's also
        psychological - people have less energy to find and get rid of bugs when
        there are many of them. Thus self-testing code reinforced by Continuous
        Integration has another exponential effect in reducing the problems
        caused by defects.</p>

<p>This runs into another phenomenon that many
        people find counter-intuitive. Seeing how often introducing a change
        means introducing bugs, people conclude that to have high reliability
        software they need to slow down the release rate. This was firmly
        contradicted by the <a href = '/bliki/StateOfDevOpsReport.html'>DORA research
        program</a> led by Nicole Forsgren. They found that elite teams
        deployed to production more rapidly, more frequently, and had a
        dramatically lower incidence of failure when they made these changes.
        The research also finds that teams have higher levels of performance
        when they have three or fewer active branches in the application&#x2019;s code
        repository, merge branches to mainline at least once a day, and don&#x2019;t have
        code freezes or integration phases.</p>
</section>

<section id = 'EnablesRefactoringForSustainedProductivity'>
<h3>Enables Refactoring for sustained productivity</h3>

<p>Most teams observe that over time, codebases deteriorate. Early
        decisions were good at the time, but are no longer optimal after six
        month's work. But changing the code to incorporate what the team has
        learned means introducing changes deep in the existing code,
        which results in difficult merges which are both time-consuming and full
        of risk. Everyone recalls that time someone made what would be a good
        change for the future, but caused days of effort breaking other people's
        work. Given that experience, nobody wants to rework the structure of
        existing code, even though it's now awkward for everyone to build on,
        thus slowing down delivery of new features.</p>

<p>Refactoring is an essential technique to attenuate and indeed reverse
        this process of decay. A team that refactors regularly has a
        disciplined technique to improve the structure of a code base by using
        small, behavior-preserving transformations of the code. These
        characteristics of the transformations
        greatly reduce their chances of introducing bugs, and
        they can be done quickly, especially when supported by a foundation of
        self-testing code. Applying refactoring at every opportunity, a team can
        improve the structure of an existing codebase, making it easier and
        faster to add new capabilities.</p>

<p>But this happy story can be torpedoed by integration woes. A two week
        refactoring session may greatly improve the code, but result in long
        merges because everyone else has been spending the last two weeks
        working with the old structure. This raises the costs of refactoring to
        prohibitive levels. Frequent integration solves this dilemma by ensuring
        that both those doing the refactoring and everyone else are regularly
        synchronizing their work. When using Continuous Integration, if someone
        makes intrusive changes to a core library I'm using, I only have to
        adjust a few hours of programming to these changes. If they do something
        that clashes with the direction of my changes, I know right away, so
        have the opportunity to talk to them so we can figure out a better way
        forward.</p>

<p>So far in this article I've raised several counter-intuitive notions about
        the merits of high-frequency integration: that the more often we
        integrate, the less time we spend integrating, and that frequent
        integration leads to less bugs. Here is perhaps the most important
        counter-intuitive notion in software development: that teams that spend a
        lot of effort keeping their code base healthy <a href = '/articles/is-quality-worth-cost.html'>deliver features faster and cheaper</a>. Time
        invested in writing tests and refactoring delivers impressive returns in
        delivery speed, and Continuous Integration is a core part of making that
        work in a team setting.</p>
</section>

<section id = 'ReleaseToProductionIsABusinessDecision'>
<h3>Release to Production is a business decision</h3>

<p>Imagine we are demonstrating some newly built feature to a
        stakeholder, and she reacts by saying - &#x201C;this is really cool, and would
        make a big business impact. How long before we can make this live?&#x201D; If
        that feature is being shown on an unintegrated branch, then the answer
        may be weeks or months, particularly if there is poor automation on the
        path to production. Continuous Integration allows us to maintain a
        <a href = '/articles/branching-patterns.html#release-ready-mainline'>Release-Ready Mainline</a>, which means  the
        decision to release the latest version of the product into production is
        purely a business decision. If the stakeholders want the latest to go
        live, it's a matter of minutes running an automated pipeline to make it
        so. This allows the customers of the software greater control of when
        features are released, and encourages them to collaborate more closely
        with the development team</p>

<p>Continuous Integration and a Release-Ready Mainline removes one of the biggest
        barriers to frequent deployment. Frequent deployment is valuable because
        it allows our users to get new features more rapidly, to give more
        rapid feedback on those features, and generally become more
        collaborative in the development cycle. This helps break down the
        barriers between customers and development - barriers which I believe
        are the biggest barriers to successful software development.</p>
</section>
</section>

<section id = 'WhenWeShouldNotUseContinuousIntegration'>
<h2>When we should <i>not</i> use Continuous Integration</h2>

<p>All those benefits sound rather juicy. But folks as experienced (or
      cynical) as I am are always suspicious of a bare list of benefits. Few
      things come without a cost, and decisions about architecture and process
      are usually a matter of trade-offs.</p>

<p>But I confess that Continuous Integration is one of those rare cases
      where there's little downside for a committed and skillful team to utilize it. The cost
      imposed by sporadic integration is so great, that almost any team can
      benefit by increasing their integration frequency. There is some limit to
      when the benefits stop piling up, but that limit sits at hours rather
      than days, which is exactly the territory of Continuous Integration. The
      interplay between self-testing code, Continuous Integration, and
      Refactoring is particularly strong. We've been using this approach for two
      decades at Thoughtworks, and our only question is how to do it more
      effectively - the core approach is proven.</p>

<p>But that doesn't mean that Continuous Integration is for everyone. You
      might notice that I said that &#x201C;there&#x2019;s little downside for a
      <i>committed and skillful</i> team to utilize it&#x201D;. Those two adjectives
      indicate the contexts where Continuous Integration isn't a good fit.</p>

<p>By &#x201C;committed&#x201D;, I mean a team that's working full-time on a product. A
      good counter-example to this is a classical open-source project, where
      there is one or two maintainers and many contributors. In such a situation
      even the maintainers are only doing a few hours a week on the project,
      they don't know the contributors very well, and don't have good visibility
      for when contributors contribute or the standards they should follow when
      they do. This is the environment that led to a feature branch workflow and
      pull-requests. In such a context Continuous Integration isn't plausible,
      although efforts to increase the integration frequency can still be
      valuable.</p>

<p>Continuous Integration is more suited for team working full-time on a
      product, as is usually the case with commercial software. But there is
      much middle ground between the classical open-source and the full-time
      model. We need to use our judgment about what integration policy to use
      that fits the commitment of the team.</p>

<p>The second adjective looks at the skill of the team in following the
      necessary practices. If a team attempts Continuous
      Integration without a strong test suite, they will run into all sorts of
      trouble because they don't have a mechanism for screening out bugs. If they don't
      automate, integration will take too long, interfering with the flow of
      development. If folks aren't disciplined about ensuring their pushes to
      mainline are done with green builds, then the mainline will end up
      broken all the time, getting in the way of everyone's work.</p>

<p>Anyone who is considering introducing Continuous Integration has to
      bear these skills in mind. Instituting Continuous Integration without
      self-testing code won't work, and it will also give a inaccurate
      impression of what Continuous Integration is like when it's done well.</p>

<p>That said, I don't think the skill demands are particularly hard. We don't
      need rock-star developers to get this process working in a team. (Indeed
      rock-star developers are often a barrier, as people who think of themselves
      that way usually aren't very disciplined.) The skills for these technical practices
      aren't that hard to learn, usually the problem is finding a good teacher,
      and forming the habits that crystallize the discipline. Once the team gets
      the hang of the flow, it usually feels comfortable, smooth - and fast. </p>
</section>

<section id = 'introducing'>
<h2>Introducing Continuous Integration</h2>

<p>One of the hard things about describing how to introduce a practice
      like Continuous Integration is that the path depends very much on where
      you're starting. Writing this, I don't know what kind code you are working
      on, what skills and habits your team possesses, let alone the broader
      organizational context. All anyone like me can do is point out some common
      signposts, in the hope that it will help you find your own path.</p>

<p>When introducing any new practice, it's important to be clear on why
      we're doing it. My list of benefits above includes the most common
      reasons, but different contexts lead to a different level of importance
      for them. Some benefits are harder to appreciate than others. Reducing
      waste in integration addresses a frustrating problem, and can be easily
      sensed as we make progress. Enabling refactoring to reduce the cruft in a
      system and improve overall productivity is more tricky to see. It takes
      time before we see an effect, and it's hard to sense counter-factual. Yet
      this is probably the most valuable benefit of Continuous Integration.</p>

<p>The list of practices above indicate the skills a team needs
      to learn in order to make Continuous Integration work. Some of these can
      bring value even before we get close to the high integration frequency.
      Self-testing code adds stability to a system even with infrequent commits.</p>

<p>One target can be to aim to double integration frequency. If feature
      branches typically run for ten days, figure out how to cut them down to
      five. This may involve better build and test automation, and creative
      thinking on how a large task can be split into smaller, independently
      integrated tasks. If we use pre-integration reviews, we could include
      explicit steps in those reviews to check test coverage and 
      encourage smaller commits.</p>

<p>If you are starting a new project, we can begin with Continuous
      Integration from the beginning. We should keep an eye on build times and
      take action as soon as we start going slower than the ten minute rule. By
      acting quickly we'll make the necessary restructurings before the code
      base gets so big that it becomes a major pain.</p>

<p>Above all we should get some help. We should find someone who has done
      Continuous Integration before to help us. Like any new technique it's hard
      to introduce it when we don't know what the final result looks like. It
      may cost money to get this support, but we'll otherwise pay in lost time
      and productivity. (Disclaimer / Advert - yes we at Thoughtworks do some
      consultancy in this area. After all we've made most of the mistakes that
      there are to make.)</p>
</section>

<section id = 'CommonQuestions'>
<h2>Common Questions</h2>

<section id = 'WhereDidContinuousIntegrationComeFrom'>
<h3>Where did Continuous Integration come from?</h3>

<p>Continuous Integration was developed as a practice by Kent Beck as
          part of Extreme Programming in the 1990s. At that time pre-release
          integration was the norm, with release frequencies often measured in
          years. There had been a general push to iterative development, with
          faster release cycles. But few teams were thinking in weeks between
          releases. Kent defined the practice, developed it with projects he
          worked on,  and established how it interacted with the
          other key practices upon which it relies.</p>

<p class = 'p-sub'>Microsoft had been known for doing daily builds (usually
          overnight), but without the testing regimen or the focus on fixing
          defects that are such crucial elements of Continuous
          Integration.</p>

<p class = 'p-sub'>Some people credit Grady Booch for coining the term, but he only
          used the phrase as an offhand description in a single sentence in his
          object-oriented design book. He did not treat it as a defined practice,
          indeed it didn't appear in the index.</p>
</section>

<section id = 'trunk-based'>
<h3>What is the difference between Continuous Integration and Trunk-Based Development?</h3>

<p>As CI Services became popular, many people used
          them to run regular builds on feature branches. This, as explained
          above, isn't Continuous Integration at all, but it led to many people
          saying (and thinking) they were doing Continuous Integration when they
          were doing something significantly different, which causes a lot of confusion.</p>

<p>Some folks decided to tackle this <a href = '/bliki/SemanticDiffusion.html'>Semantic Diffusion</a> by coining a new term: Trunk-Based
          Development. In general I see this as a synonym to Continuous Integration
          and acknowledge that it doesn't tend to suffer from confusion with
          &#x201C;running Jenkins on our feature branches&#x201D;. I've read some people
          trying to formulate some distinction between the two, but I find these
          distinctions are neither consistent nor compelling.</p>

<p>I don't use the term Trunk-Based Development, partly because I don't
          think coining a new name is a good way to counter semantic diffusion,
          but mostly because renaming this technique rudely erases the work of
          those, especially Kent Beck, who championed and developed Continuous
          Integration in the beginning.</p>

<p>Despite me avoiding the term, there is a lot of good information
          about Continuous Integration that's written under the flag of
          Trunk-Based Development. In particular, Paul Hammant has written a lot
          of excellent material on his <a href = 'https://trunkbaseddevelopment.com'>website</a>.</p>
</section>

<section id = 'CanWeRunACiServiceOnOurFeatureBranches'>
<h3>Can we run a CI Service on our feature branches?</h3>

<p>The simple answer is &#x201C;yes - but you're <i>not</i> doing Continuous
          Integration&#x201D;. The key principle here is that &#x201C;Everyone Commits To the
          Mainline Every Day&#x201D;. Doing an automated build on feature branches is
          useful, but it is only <a href = '#semi-integration'>semi-integration</a>.</p>

<p>However it is a common confusion that using a daemon build in this
          way is what Continuous Integration is about. The confusion comes from
          calling these tools Continuous Integration Services, a better term
          would be something like &#x201C;Continuous Build Services&#x201D;. While using a CI
          Service is a useful aid to doing Continuous Integration, we shouldn't
          confuse a tool for the practice.</p>
</section>

<section id = 'WhatIsTheDifferenceBetweenContinuousIntegrationAndContinuousDelivery'>
<h3>What is the difference between Continuous Integration and Continuous
          Delivery?</h3>

<p>The early descriptions of Continuous Integration focused on the
          cycle of developer integration with the mainline in the team's
          development environment. Such descriptions didn't talk much about the
          journey from an integrated mainline to a production release. That
          doesn't mean they weren't in people's minds. Practices like &#x201C;Automate
          Deployment&#x201D; and &#x201C;Test in a Clone of the Production Environment&#x201D; clearly
          indicate a recognition of the path to production.</p>

<p>In some situations, there wasn't much else after mainline
          integration. I recall Kent showing me a system he was working on in
          Switzerland in the late 90's where they deployed to production, every
          day, automatically. But this was a Smalltalk system, that didn't have
          complicated steps for a production deploy. In the early 2000s at
          Thoughtworks, we often had situations where that path to production was
          much more complicated. This led to the notion that there was an
          activity beyond Continuous Integration that addressed that path. That
          activity came to knows as Continuous Delivery.</p>

<p>The aim of Continuous Delivery is that the product should always be
          in a state where we can release the latest build. This is essentially
          ensuring that the release to production is a business decision. </p>

<p>For many people these days, Continuous Integration is about
          integrating code to the mainline in the development team's environment,
          and Continuous Delivery is the rest of the deployment pipeline heading
          to a production release. Some people treat Continuous Delivery as
          encompassing Continuous Integration, others see them as closely linked
          partners, often with the moniker CI/CD. Others argue that
          Continuous Delivery is merely a synonym for Continuous Integration.</p>
</section>

<section id = 'cont-deploy'>
<h3>How does Continuous Deployment fit in with all this?</h3>

<p>Continuous Integration ensures everyone integrates their code at
          least daily to the mainline in version control. Continuous Delivery
          then carries out any steps required to ensure that the product is
          releasable to product whenever anyone wishes. Continuous Deployment
          means the product is automatically released to production whenever it
          passes all the automated tests in the deployment pipeline.</p>

<p>With Continuous Deployment every commit pushed to mainline as part
          of Continuous Integration will be automatically deployed to production
          providing all of the verifications in the deployment pipeline are
          green. Continuous Delivery just assures that this is possible (and is
          thus a pre-requisite for Continuous Deployment).  </p>
</section>

<section id = 'HowDoWeDoPullRequestsAndCodeReviews'>
<h3>How do we do pull requests and code reviews?</h3>

<p><a href = '/bliki/PullRequest.html'>Pull Requests</a>, an artifact of GitHub,
          are now widely used on software projects. Essentially they provide a
          way to add some process to the push to mainline, usually involving a
          <a href = '/articles/branching-patterns.html#reviewed-commits'>pre-integration code review</a>, requiring
          another developer to approve before the push can be accepted into the
          mainline. They developed mostly in the context of feature branching in
          open-source projects, ensuring that the maintainers of a project can
          review that a contribution fits properly into the style and future
          intentions of the project.</p>

<p>The pre-integration code review can be problematic for Continuous
          Integration because it usually adds significant friction to the
          integration process. Instead of an automated process that can be done
          within minutes, we have to find someone to do the code review,
          schedule their time, and wait for feedback before the review is
          accepted. Although some organizations may be able to get to flow
          within minutes, this can easily end up being hours or days - breaking
          the timing that makes Continuous Integration work.</p>

<p>Those who do Continuous Integration deal with this by reframing how
          code review fits into their workflow. <a href = '/bliki/PairProgramming.html'>Pair Programming</a> is popular because it creates a continuous
          real-time code review as the code is being written, producing a much
          faster feedback loop for the review. The <a href = '/articles/ship-show-ask.html'>Ship / Show / Ask</a> process encourages teams
          to use a blocking code review only when necessary, recognizing that
          post-integration review is often a better bet as it doesn't interfere
          with integration frequency. Many teams find that <a href = '/bliki/RefinementCodeReview.html'>Refinement Code Review</a> is an important force to maintaining a
          healthy code base, but works at its best when Continuous Integration
          produces an environment friendly to refactoring.</p>

<p>We should remember that pre-integration review grew out of an
          open-source context where contributions appear impromptu from weakly
          connected developers. Practices that are effective in that environment
          need to be reassessed for a full-time team of closely-knit staff.</p>
</section>

<section id = 'HowDoWeHandleDatabases'>
<h3>How do we handle databases?</h3>

<p>Databases offer a specific challenge as we increase integration
          frequency.  It's easy to include database schema definitions and load
          scripts for test data in the version-controlled sources. But that
          doesn't help us with data outside of version-control, such as
          production databases. If we change the database schema, we need to
          know how to handle existing data.</p>

<p>With traditional pre-release integration, data migration
          is a considerable challenge, often spinning up special teams just to
          carry out the migration. At first blush, attempting high-frequency
          integration would introduce an untenable amount of data migration work.</p>

<p>In practice, however, a change in perspective removes this problem.
          We faced this issue in Thoughtworks on our early projects using
          Continuous Integration, and solved it by shifting to an <a href = '/articles/evodb.html'>Evolutionary Database Design</a> approach, developed
          by my colleague Pramod Sadalage. The key to this methodology is to
          define database schema and data through a series of migration scripts,
          that alter both the database schema and data. Each migration is small,
          so is easy to reason about and test. The migrations compose naturally,
          so we can run hundreds of migrations in sequence to perform
          significant schema changes and migrate the data as we go. We can store
          these migrations in version-control in sync with the data access code
          in the application, allowing us to build any version of the software,
          with the correct schema and correctly structured data. These
          migrations can be run on test data, and on production databases.</p>
</section>
</section>

<section id = 'FinalThoughts'>
<h2>Final Thoughts</h2>

<p>Most software development is about changing existing code. The cost and
      response time for adding new features to a code base depends greatly upon
      the condition of that code base. <a href = '/articles/is-quality-worth-cost.html'>A crufty code
      base is harder, and more expensive to modify.</a> To keep cruft to a
      minimum a team needs to be able to regularly refactor the code, changing
      its structure to reflect changing needs and incorporate lessons the team
      learns from working on the product.</p>

<p>Continuous Integration is vital for a healthy product because it is a
      key component of this kind of evolutionary design ecosystem. Together with
      and supported by self-testing code, it's the underpinning for refactoring.
      These technical practices, born together in Extreme Programming, can
      enable a team to deliver regular enhancement of a product to take
      advantage of changing needs and technological opportunities.</p>
</section>

<hr class = 'bodySep'></hr>
</div>

<div class = 'appendix'>
<section id = 'FurtherReading'>
<h2>Further Reading</h2>

<p>An essay like this can only cover so much ground, but this is an
      important topic so I've created a <a href = '../delivery.html'>guide
      page</a> on my website to point you to more information.</p>

<p>To explore Continuous Integration in more detail I suggest taking a
      look at Paul Duvall's <a href = '/books/duvall.html'>appropriately titled
      book</a> on the subject (which won a Jolt award - more than I've ever
      managed). For more on the broader process of Continuous Delivery, take a
      look at <a href = '/books/continuousDelivery.html'>Jez Humble and Dave
      Farley's book</a> - which also beat me to a Jolt award.</p>

<p>My article on <a href = '/articles/branching-patterns.html'>Patterns
      for Managing Source Code Branches</a> looks at the broader context,
      showing how Continuous Integration fits into the wider decision space of
      choosing a branching strategy. As ever, the driver for choosing when to
      branch is knowing you are going to integrate.</p>

<p>The <a href = 'originalContinuousIntegration.html'> original article
      on Continuous Integration</a> describes our
      experiences as Matt helped put together
      continuous integration on a Thoughtworks project in 2000.</p>

<p>As I <a href = '#trunk-based'>indicated earlier</a>, many people write
      about Continuous Integration using the term &#x201C;Trunk-Based Development&#x201D;.
      Paul Hammant's <a href = 'https://trunkbaseddevelopment.com'>website</a> contains a lot of
      useful and practical information. Clare Sudbery recently wrote an <a href = 'https://www.oreilly.com/library/view/what-is-trunk-based/9781098146658/'>informative report</a> available through O'Reilly.</p>
</section>

<section id = 'Acknowledgments'>
<h2>Acknowledgments</h2>

<p>First and foremost to Kent Beck and my many colleagues on the
      Chrysler Comprehensive Compensation (C3) project. This was my
      first chance to see Continuous Integration in action with a
      meaningful amount of unit tests. It showed me what was possible
      and gave me an inspiration that led me for many years.</p>

<p>Thanks to Matt Foemmel, Dave Rice, and everyone else who
      built and maintained Continuous Integration on Atlas. That
      project was a sign of CI on a larger scale and showed the
      benefits it made to an existing project.</p>

<p>Paul Julius, Jason Yip, Owen Rodgers, Mike Roberts and many
      other open source contributors have participated in building
      some variant of CruiseControl, the first CI service. Although a CI service isn't
      essential, most teams find it helpful. CruiseControl and other
      CI services have played a big part in popularizing and enabling
      software developers to use Continuous Integration.</p>

<p>In the fall of 2023, Michael Lihs emailed me with suggested revisions
      to the article, which inspired me to
      do a major overhaul. Birgitta
      Böckeler, Camilla Crispim, Casey Lee, Chris Ford, Clare Sudbery, Evan Bottcher, Jez
      Humble, Kent Beck, Kief Morris, Mike Roberts, Paul Hammant, Pete
      Hodgson, Rafael Detoni, Rouan Wilsenach, and Trisha Gee
      reviewed and commented on this revision.</p>

<p>One of the reasons I work at Thoughtworks is to get good
      access to practical projects done by talented people. Nearly
      every project I've visited has given tasty morsels of continuous
      integration information.</p>
</section>
</div>

<div class = 'appendix'>
<details id = 'SignificantRevisions'>
<summary>Significant Revisions</summary>

<p><i>18 January 2024: </i>Published revised version</p>

<p><i>18 October 2023: </i>Began rewrite to bring it up to date</p>

<p><i>01 May 2006: </i>Complete rewrite of article to bring it
  up to date and to clarify the description of the approach.</p>

<p><i>10 September 2000: </i>Original version published.</p>
</details>
</div>
</main>

<nav id = 'bottom-navmenu'>
<nav class = 'navmenu'>
<div class = 'nav-head'>  <div class = 'search'>
    <!-- SiteSearch Google -->
    <form method='GET' action="https://www.google.com/search">
      <input type='hidden' name='ie' value='UTF-8'/>
      <input type='hidden' name='oe' value='UTF-8'/>
      <input class = 'field' type='text' 
             name='q' size='15' maxlength='255' value=""/>
      <button class = 'button' type='submit' 
             name='btnG' value=" " title = "Search"/>
      <input type='hidden' name='domains' value="martinfowler.com"/>
      <input type='hidden' name='sitesearch' value=""/> 
      <input
          type='hidden' name='sitesearch' value="martinfowler.com"/>
    </form>
  </div>

<div class = 'closediv'>
<span class = 'close' title = 'close'></span>
</div>
</div>

<div class = 'nav-body'>
<div class = 'topics'>
<h2>Topics</h2>

<p><a href = '/architecture'>Architecture</a></p>

<p><a href = 'https://refactoring.com'>Refactoring</a></p>

<p><a href = '/agile.html'>Agile</a></p>

<p><a href = '/delivery.html'>Delivery</a></p>

<p><a href = '/microservices'>Microservices</a></p>

<p><a href = '/data'>Data</a></p>

<p><a href = '/testing'>Testing</a></p>

<p><a href = '/dsl.html'>DSL</a></p>
</div>

<div class = 'about'>
<h2>about me</h2>

<p><a href = '/aboutMe.html'>About</a></p>

<p><a href = '/books'>Books</a></p>

<p><a href = '/faq.html'>FAQ</a></p>
</div>

<div class = 'content'>
<h2>content</h2>

<p><a href = '/videos.html'>Videos</a></p>

<p><a href = '/tags'>Content Index</a></p>

<p><a href = '/articles/eurogames'>Board Games</a></p>

<p><a href = '/photos'>Photography</a></p>
</div>

<div class = 'tw'>
<h2>Thoughtworks</h2>

<p><a href = 'https://thoughtworks.com/insights'>Insights</a></p>

<p><a href = 'https://thoughtworks.com/careers'>Careers</a></p>

<p><a href = 'https://thoughtworks.com/radar'>Radar</a></p>
</div>

<div class = 'feeds'>
<h2>follow</h2>

<p><a href = '/feed.atom'>RSS</a></p>

<p><a href = 'https://toot.thoughtworks.com/@mfowler'>Mastodon</a></p>

<p><a href = 'https://www.linkedin.com/in/martin-fowler-com/'>LinkedIn</a></p>

<p><a href = 'https://www.twitter.com/martinfowler'>X (Twitter)</a></p>

<p><a href = 'https://boardgamegeek.com/blog/13064/martins-7th-decade'>BGG</a></p>
</div>
</div>
</nav>
</nav>
<footer id='page-footer'>
<div class='tw-logo'>
<a href='http://www.thoughtworks.com'>
<img src='/thoughtworks_white.png'>
</a>
</div>
<div class='menu-button'>
<div class='icon-bars navmenu-button'></div>
</div>
<div class='copyright'>
<p>© Martin Fowler | <a href="http://www.thoughtworks.com/privacy-policy">Privacy Policy</a> | <a href="/aboutMe.html#disclosures">Disclosures</a></p>
</div>
</footer>
<!-- Google Analytics -->
<!-- old Google Universal -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-17005812-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!-- New Google GA4 -->
<!-- global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6D51F4BDVF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6D51F4BDVF');
</script>
<!-- End Google Analytics -->



<script src = '/jquery-1.11.3.min.js' type = 'text/javascript'></script>

<script src = '/mfcom.js' type = 'text/javascript'></script>

<script src = 'continuousIntegration/carousel.js' type = 'text/javascript'></script>

<script src = 'continuousIntegration.js' type = 'text/javascript'></script>
</body>
</html>
